{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import matplotlib.pyplot as plt\n",
    "import numpy as np\n",
    "import os\n",
    "%matplotlib inline"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "os.chdir('/Users/a1/Downloads/百度云盘/机器学习算法配套案例实战/逻辑回归-信用卡欺诈检测')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Time</th>\n",
       "      <th>V1</th>\n",
       "      <th>V2</th>\n",
       "      <th>V3</th>\n",
       "      <th>V4</th>\n",
       "      <th>V5</th>\n",
       "      <th>V6</th>\n",
       "      <th>V7</th>\n",
       "      <th>V8</th>\n",
       "      <th>V9</th>\n",
       "      <th>...</th>\n",
       "      <th>V21</th>\n",
       "      <th>V22</th>\n",
       "      <th>V23</th>\n",
       "      <th>V24</th>\n",
       "      <th>V25</th>\n",
       "      <th>V26</th>\n",
       "      <th>V27</th>\n",
       "      <th>V28</th>\n",
       "      <th>Amount</th>\n",
       "      <th>Class</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.0</td>\n",
       "      <td>-1.359807</td>\n",
       "      <td>-0.072781</td>\n",
       "      <td>2.536347</td>\n",
       "      <td>1.378155</td>\n",
       "      <td>-0.338321</td>\n",
       "      <td>0.462388</td>\n",
       "      <td>0.239599</td>\n",
       "      <td>0.098698</td>\n",
       "      <td>0.363787</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.018307</td>\n",
       "      <td>0.277838</td>\n",
       "      <td>-0.110474</td>\n",
       "      <td>0.066928</td>\n",
       "      <td>0.128539</td>\n",
       "      <td>-0.189115</td>\n",
       "      <td>0.133558</td>\n",
       "      <td>-0.021053</td>\n",
       "      <td>149.62</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.0</td>\n",
       "      <td>1.191857</td>\n",
       "      <td>0.266151</td>\n",
       "      <td>0.166480</td>\n",
       "      <td>0.448154</td>\n",
       "      <td>0.060018</td>\n",
       "      <td>-0.082361</td>\n",
       "      <td>-0.078803</td>\n",
       "      <td>0.085102</td>\n",
       "      <td>-0.255425</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.225775</td>\n",
       "      <td>-0.638672</td>\n",
       "      <td>0.101288</td>\n",
       "      <td>-0.339846</td>\n",
       "      <td>0.167170</td>\n",
       "      <td>0.125895</td>\n",
       "      <td>-0.008983</td>\n",
       "      <td>0.014724</td>\n",
       "      <td>2.69</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1.0</td>\n",
       "      <td>-1.358354</td>\n",
       "      <td>-1.340163</td>\n",
       "      <td>1.773209</td>\n",
       "      <td>0.379780</td>\n",
       "      <td>-0.503198</td>\n",
       "      <td>1.800499</td>\n",
       "      <td>0.791461</td>\n",
       "      <td>0.247676</td>\n",
       "      <td>-1.514654</td>\n",
       "      <td>...</td>\n",
       "      <td>0.247998</td>\n",
       "      <td>0.771679</td>\n",
       "      <td>0.909412</td>\n",
       "      <td>-0.689281</td>\n",
       "      <td>-0.327642</td>\n",
       "      <td>-0.139097</td>\n",
       "      <td>-0.055353</td>\n",
       "      <td>-0.059752</td>\n",
       "      <td>378.66</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>1.0</td>\n",
       "      <td>-0.966272</td>\n",
       "      <td>-0.185226</td>\n",
       "      <td>1.792993</td>\n",
       "      <td>-0.863291</td>\n",
       "      <td>-0.010309</td>\n",
       "      <td>1.247203</td>\n",
       "      <td>0.237609</td>\n",
       "      <td>0.377436</td>\n",
       "      <td>-1.387024</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.108300</td>\n",
       "      <td>0.005274</td>\n",
       "      <td>-0.190321</td>\n",
       "      <td>-1.175575</td>\n",
       "      <td>0.647376</td>\n",
       "      <td>-0.221929</td>\n",
       "      <td>0.062723</td>\n",
       "      <td>0.061458</td>\n",
       "      <td>123.50</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>2.0</td>\n",
       "      <td>-1.158233</td>\n",
       "      <td>0.877737</td>\n",
       "      <td>1.548718</td>\n",
       "      <td>0.403034</td>\n",
       "      <td>-0.407193</td>\n",
       "      <td>0.095921</td>\n",
       "      <td>0.592941</td>\n",
       "      <td>-0.270533</td>\n",
       "      <td>0.817739</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.009431</td>\n",
       "      <td>0.798278</td>\n",
       "      <td>-0.137458</td>\n",
       "      <td>0.141267</td>\n",
       "      <td>-0.206010</td>\n",
       "      <td>0.502292</td>\n",
       "      <td>0.219422</td>\n",
       "      <td>0.215153</td>\n",
       "      <td>69.99</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows × 31 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "   Time        V1        V2        V3        V4        V5        V6        V7  \\\n",
       "0   0.0 -1.359807 -0.072781  2.536347  1.378155 -0.338321  0.462388  0.239599   \n",
       "1   0.0  1.191857  0.266151  0.166480  0.448154  0.060018 -0.082361 -0.078803   \n",
       "2   1.0 -1.358354 -1.340163  1.773209  0.379780 -0.503198  1.800499  0.791461   \n",
       "3   1.0 -0.966272 -0.185226  1.792993 -0.863291 -0.010309  1.247203  0.237609   \n",
       "4   2.0 -1.158233  0.877737  1.548718  0.403034 -0.407193  0.095921  0.592941   \n",
       "\n",
       "         V8        V9  ...         V21       V22       V23       V24  \\\n",
       "0  0.098698  0.363787  ...   -0.018307  0.277838 -0.110474  0.066928   \n",
       "1  0.085102 -0.255425  ...   -0.225775 -0.638672  0.101288 -0.339846   \n",
       "2  0.247676 -1.514654  ...    0.247998  0.771679  0.909412 -0.689281   \n",
       "3  0.377436 -1.387024  ...   -0.108300  0.005274 -0.190321 -1.175575   \n",
       "4 -0.270533  0.817739  ...   -0.009431  0.798278 -0.137458  0.141267   \n",
       "\n",
       "        V25       V26       V27       V28  Amount  Class  \n",
       "0  0.128539 -0.189115  0.133558 -0.021053  149.62      0  \n",
       "1  0.167170  0.125895 -0.008983  0.014724    2.69      0  \n",
       "2 -0.327642 -0.139097 -0.055353 -0.059752  378.66      0  \n",
       "3  0.647376 -0.221929  0.062723  0.061458  123.50      0  \n",
       "4 -0.206010  0.502292  0.219422  0.215153   69.99      0  \n",
       "\n",
       "[5 rows x 31 columns]"
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data = pd.read_csv(\"creditcard.csv\")\n",
    "data.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [],
   "source": [
    "#data.describe"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0    284315\n",
       "1       492\n",
       "Name: Class, dtype: int64"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#看正负样本的比例，用value_counts来统计\n",
    "count_class = pd.value_counts(data['Class']).sort_index() #默认按行标升序排列\n",
    "#count_class.sort_index(ascending = False) 降序排列\n",
    "count_class"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "pandas.core.series.Series"
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#查看count_class的类型, 这里取了pandas中dataFrame中的一列，所以为series格式\n",
    "type(count_class)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Text(0,0.5,'Frequency')"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAZsAAAETCAYAAADge6tNAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADl0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uIDIuMS4yLCBodHRwOi8vbWF0cGxvdGxpYi5vcmcvNQv5yAAAGdJJREFUeJzt3X+0XWV95/H3xwAVRAElIoZgUGNbZCpiirROW60VAq2CLpmCTkkdWjqKbbWdGdFlC9UyS2e12DJWWigZAX8gYlWq2EhRy9hBJSgDRHRIESUmhUiA8Pvnd/7Yz62Hy825J4F9T3Lyfq111jn7u5+997NDyOfuZz93n1QVkiT16Unj7oAkafIZNpKk3hk2kqTeGTaSpN4ZNpKk3hk2kqTeGTbSJiT5SpLf2oLtKsnz++jTDMc6JclHhqxfleTlc9EXaZgdxt0BaZgkNwJ7AQ8PlF9QVWvH06NtS1W9cLY2SRYB3wN2rKqH+u6Ttk9e2Whb8Oqq2nXg9ZigSeIPTlsp/9sIDBtto5IsasNVxyf5AfClVv9kkn9NckeSy5K8cGCbRw2LJfnNJF8dWH5Vku+0bT8IZMjx5yV5V5J/SXJnkiuTLJyh3a8m+VaSjUluSnLKwLonJ/lIkluT3J7kiiR7DfTthrbv7yV545A/jp2SnNvarkqyZOAYNyb5lfb54CQrW19uTnJaa3ZZe789yV1Jfi7Jk5K8O8n3k9zS9r/bwH6Pa+tuTfJH045zSpIL27ltBH6zHfvydp7rknwwyU4D+6skb0lyfTuP9yZ5XttmY5ILBttr22PYaFv3S8BPA4e15S8Ai4FnAt8EPjrKTpLsCXwKeDewJ/AvwMuGbPIHwLHAEcDTgP8E3DNDu7uB44DdgV8F3pzkqLZuGbAbsBB4BvCfgXuTPAU4HTi8qp4K/Dxw1ZC+vAY4vx3jIuCDm2j3l8BfVtXTgOcBF7T6L7b33duV4+XAb7bXK4DnArtO7TfJ/sCHgDcCe7dzWDDtWEcCF7Y+fZRuGPTtdH+2Pwe8EnjLtG2WAi8BDgH+G3BmO8ZC4AC6P29towwbbQs+034ivj3JZ6atO6Wq7q6qewGqanlV3VlV9wOnAC8a/Il8iCOAb1fVhVX1IPAXwL8Oaf9bwLur6rvV+b9Vdev0RlX1laq6pqoeqaqrgY/TBSTAg3Qh8/yqeriqrqyqjW3dI8ABSXauqnVVtWpIX75aVRdX1cPAecCLNtHuQeD5Sfasqruq6mtD9vlG4LSquqGq7gLeCRzThsReD/x9VX21qh4A/hiY/pDFy6vqM+28723n9rWqeqiqbgT+ZuDPYcr7q2pjO9drgS+2499B90PEi4f0V1s5w0bbgqOqavf2OmraupumPrShrfe1oa2NwI1t1Z4jHOPZg/uq7gm1N226OQvprn6GSvLSJF9Osj7JHXRXL1P9OQ9YAZyfZG2S/5Fkx6q6G/j11nZdks8n+akhhxkMxXuAJ2/iPsnxwAuA77Qhu18bss9nA98fWP4+3YSivXjsn9U9wPSgfdSfXZIXJPlcG+LcCPx3Hvvf5eaBz/fOsLzrkP5qK2fYaFs3+BP1G+iGb36FbmhnUatP3Xu5G9hloP2zBj6vowuQboMkg8szuIluKGo2H6Mb2lpYVbsBfz3Vn6p6sKr+pKr2pxsq+zW6ITeqakVVvYpumOo7wFkjHGuoqrq+qo6lG2J8P3BhG7Kb6dHva4HnDCzvCzxEFwDrgH2mViTZme4K7VGHm7Z8Bt15LG7DeO9iyD0xTR7DRpPkqcD9dD9l70L30/Ogq4DXJdkl3e/BHD+w7vPAC5O8rl0V/B6PDqPp/hZ4b5LF6fxMkun/4E71aUNV3ZfkYLpABCDJK5L8uyTzgI10w1wPJ9kryWtaENwP3MWjp35vkST/Mcn8qnoEuL2VHwbW0w3bPXeg+ceBtyfZL8mudH+Wn2hToy8EXp3k59tN+z9h9uB4ajvHu9pV2psf7/lo22LYaJKcSzfc80Pg28D0exIfAB6g++n8HAYmD1TVj4CjgffRhdVi4J+HHOs0uhvsX6T7R/RsYOcZ2r0FeE+SO+nubVwwsO5ZdP9wbwSuA/4J+Ajd/5d/SHd1sYHu3sb0m+lbYimwKslddJMFjqmq+9ow2KnAP7f7YocAy+mG+S6j+x2c+4DfBWj3VH6XblLCOuBO4Ba6YNyU/0IXtHfSXaV94gk4H21D4penSXo82pXP7XRDZN8bd3+0dfLKRtJmS/LqNhz5FODPgGv48YQM6TEMG0lb4ki6Yb61dEOOx5TDJBrCYTRJUu+8spEk9c6wkST1zqexNnvuuWctWrRo3N2QpG3KlVde+aOqmj9bO8OmWbRoEStXrhx3NyRpm5Lk+7O3chhNkjQHDBtJUu8MG0lS7wwbSVLvDBtJUu8MG0lS7wwbSVLvDBtJUu/8pc5tzKKTPj/uLkyUG9/3q+PugrRd8MpGktQ7w0aS1DvDRpLUO8NGktQ7w0aS1DvDRpLUO8NGktQ7w0aS1DvDRpLUO8NGktQ7w0aS1DvDRpLUO8NGktQ7w0aS1DvDRpLUO8NGktQ7w0aS1DvDRpLUO8NGktQ7w0aS1DvDRpLUu97CJsnCJF9Ocl2SVUl+v9VPSfLDJFe11xED27wzyeok301y2EB9aautTnLSQH2/JF9Pcn2STyTZqdV/oi2vbusX9XWekqTZ9Xll8xDwh1X108AhwIlJ9m/rPlBVB7bXxQBt3THAC4GlwIeSzEsyD/gr4HBgf+DYgf28v+1rMXAbcHyrHw/cVlXPBz7Q2kmSxqS3sKmqdVX1zfb5TuA6YMGQTY4Ezq+q+6vqe8Bq4OD2Wl1VN1TVA8D5wJFJAvwycGHb/hzgqIF9ndM+Xwi8srWXJI3BnNyzacNYLwa+3kpvTXJ1kuVJ9mi1BcBNA5utabVN1Z8B3F5VD02rP2pfbf0drf30fp2QZGWSlevXr39c5yhJ2rTewybJrsCngLdV1UbgDOB5wIHAOuDPp5rOsHltQX3Yvh5dqDqzqpZU1ZL58+cPPQ9J0pbrNWyS7EgXNB+tqr8DqKqbq+rhqnoEOItumAy6K5OFA5vvA6wdUv8RsHuSHabVH7Wvtn43YMMTe3aSpFH1ORstwNnAdVV12kB974FmrwWubZ8vAo5pM8n2AxYD3wCuABa3mWc70U0iuKiqCvgy8Pq2/TLgswP7WtY+vx74UmsvSRqDHWZvssVeBvwGcE2Sq1rtXXSzyQ6kG9a6EfgdgKpaleQC4Nt0M9lOrKqHAZK8FVgBzAOWV9Wqtr93AOcn+VPgW3ThRns/L8lquiuaY3o8T0nSLHoLm6r6KjPfO7l4yDanAqfOUL94pu2q6gZ+PAw3WL8POHpz+itJ6o9PEJAk9c6wkST1zrCRJPXOsJEk9c6wkST1zrCRJPXOsJEk9c6wkST1zrCRJPXOsJEk9c6wkST1zrCRJPXOsJEk9c6wkST1zrCRJPXOsJEk9c6wkST1zrCRJPXOsJEk9c6wkST1zrCRJPXOsJEk9c6wkST1zrCRJPXOsJEk9c6wkST1zrCRJPWut7BJsjDJl5Ncl2RVkt9v9acnuSTJ9e19j1ZPktOTrE5ydZKDBva1rLW/PsmygfpLklzTtjk9SYYdQ5I0Hn1e2TwE/GFV/TRwCHBikv2Bk4BLq2oxcGlbBjgcWNxeJwBnQBccwMnAS4GDgZMHwuOM1nZqu6WtvqljSJLGoLewqap1VfXN9vlO4DpgAXAkcE5rdg5wVPt8JHBudb4G7J5kb+Aw4JKq2lBVtwGXAEvbuqdV1eVVVcC50/Y10zEkSWMwJ/dskiwCXgx8HdirqtZBF0jAM1uzBcBNA5utabVh9TUz1BlyDEnSGPQeNkl2BT4FvK2qNg5rOkOttqC+OX07IcnKJCvXr1+/OZtKkjZDr2GTZEe6oPloVf1dK9/chsBo77e0+hpg4cDm+wBrZ6nvM0N92DEeparOrKolVbVk/vz5W3aSkqRZ9TkbLcDZwHVVddrAqouAqRlly4DPDtSPa7PSDgHuaENgK4BDk+zRJgYcCqxo6+5Mckg71nHT9jXTMSRJY7BDj/t+GfAbwDVJrmq1dwHvAy5IcjzwA+Dotu5i4AhgNXAP8CaAqtqQ5L3AFa3de6pqQ/v8ZuDDwM7AF9qLIceQJI1Bb2FTVV9l5vsqAK+coX0BJ25iX8uB5TPUVwIHzFC/daZjSJLGwycISJJ6Z9hIknpn2EiSemfYSJJ6Z9hIknpn2EiSemfYSJJ6N1LYJHnM77JIkjSqUa9s/jrJN5K8JcnuvfZIkjRxRgqbqvr3wBvpHoi5MsnHkryq155JkibGyPdsqup64N3AO4BfAk5P8p0kr+urc5KkyTDqPZufSfIBum/b/GXg1e3rnn8Z+ECP/ZMkTYBRH8T5QeAs4F1Vde9UsarWJnl3Lz2TJE2MUcPmCODeqnoYIMmTgCdX1T1VdV5vvZMkTYRR79n8I913xkzZpdUkSZrVqGHz5Kq6a2qhfd6lny5JkibNqGFzd5KDphaSvAS4d0h7SZL+zaj3bN4GfDLJ2ra8N/Dr/XRJkjRpRgqbqroiyU8BP0n3Vc/fqaoHe+2ZJGlijHplA/CzwKK2zYuTUFXn9tIrSdJEGSlskpwHPA+4Cni4lQswbCRJsxr1ymYJsH9VVZ+dkSRNplFno10LPKvPjkiSJteoVzZ7At9O8g3g/qliVb2ml15JkibKqGFzSp+dkCRNtlGnPv9TkucAi6vqH5PsAszrt2uSpEkx6lcM/DZwIfA3rbQA+ExfnZIkTZZRJwicCLwM2Aj/9kVqzxy2QZLlSW5Jcu1A7ZQkP0xyVXsdMbDunUlWJ/luksMG6ktbbXWSkwbq+yX5epLrk3wiyU6t/hNteXVbv2jEc5Qk9WTUsLm/qh6YWkiyA93v2QzzYWDpDPUPVNWB7XVx29/+wDHAC9s2H0oyL8k84K+Aw4H9gWNbW4D3t30tBm4Djm/144Hbqur5dF/s9v4Rz1GS1JNRw+afkrwL2DnJq4BPAn8/bIOqugzYMOL+jwTOr6r7q+p7wGrg4PZaXVU3tLA7HzgySei+JfTCtv05wFED+zqnfb4QeGVrL0kak1HD5iRgPXAN8DvAxcCWfkPnW5Nc3YbZ9mi1BcBNA23WtNqm6s8Abq+qh6bVH7Wvtv6O1l6SNCYjhU1VPVJVZ1XV0VX1+vZ5S54mcAbdY28OBNYBf97qM1151BbUh+3rMZKckGRlkpXr168f1m9J0uMw6rPRvscM/2BX1XM352BVdfPAPs8CPtcW1wALB5ruA0x9ncFM9R8BuyfZoV29DLaf2teadm9pNzYxnFdVZwJnAixZssRH8UhSTzbn2WhTngwcDTx9cw+WZO+qWtcWX0v3GByAi4CPJTkNeDawGPgG3VXK4iT7AT+km0TwhqqqJF8GXk93H2cZ8NmBfS0DLm/rv+Qz3SRpvEb9pc5bp5X+IslXgT/e1DZJPg68HNgzyRrgZODlSQ6ku0q6ke7+D1W1KskFwLeBh4ATq+rhtp+3Aivofol0eVWtaod4B3B+kj8FvgWc3epnA+clWU13RXPMKOcoSerPqMNoBw0sPonuSuepw7apqmNnKJ89Q22q/anAqTPUL6abkDC9fgPdbLXp9fvorrwkSVuJUYfR/nzg80N0VyX/4QnvjSRpIo06jPaKvjsiSZpcow6j/cGw9VV12hPTHUnSJNqc2Wg/SzfTC+DVwGU8+hcuJUma0eZ8edpBVXUndA/UBD5ZVb/VV8ckSZNj1MfV7As8MLD8ALDoCe+NJGkijXplcx7wjSSfpvsdmdcC5/bWK0nSRBl1NtqpSb4A/EIrvamqvtVftyRJk2TUYTSAXYCNVfWXdM8d26+nPkmSJsyoXwt9Mt3jYd7ZSjsCH+mrU5KkyTLqlc1rgdcAdwNU1VpmeVyNJElTRg2bB9qTkwsgyVP665IkadKMGjYXJPkbuu+Q+W3gH4Gz+uuWJGmSjDob7c+SvArYCPwk8MdVdUmvPZMkTYxZwybJPGBFVf0KYMBIkjbbrMNo7UvM7kmy2xz0R5I0gUZ9gsB9wDVJLqHNSAOoqt/rpVeSpIkyath8vr0kSdpsQ8Mmyb5V9YOqOmeuOiRJmjyz3bP5zNSHJJ/quS+SpAk1W9hk4PNz++yIJGlyzRY2tYnPkiSNbLYJAi9KspHuCmfn9pm2XFX1tF57J0maCEPDpqrmzVVHJEmTa3O+z0aSpC1i2EiSemfYSJJ6Z9hIknrXW9gkWZ7kliTXDtSenuSSJNe39z1aPUlOT7I6ydVJDhrYZllrf32SZQP1lyS5pm1zepIMO4YkaXz6vLL5MLB0Wu0k4NKqWgxc2pYBDgcWt9cJwBnQBQdwMvBS4GDg5IHwOKO1ndpu6SzHkCSNSW9hU1WXARumlY8Epp6zdg5w1ED93Op8je4bQfcGDgMuqaoNVXUb3ffpLG3rnlZVl7evqz532r5mOoYkaUzm+p7NXlW1DqC9P7PVFwA3DbRb02rD6mtmqA87hiRpTLaWCQKZoVZbUN+8gyYnJFmZZOX69es3d3NJ0ojmOmxubkNgtPdbWn0NsHCg3T7A2lnq+8xQH3aMx6iqM6tqSVUtmT9//haflCRpuLkOm4uAqRlly4DPDtSPa7PSDgHuaENgK4BDk+zRJgYcCqxo6+5MckibhXbctH3NdAxJ0piM+k2dmy3Jx4GXA3smWUM3q+x9wAVJjgd+ABzdml8MHAGsBu4B3gRQVRuSvBe4orV7T1VNTTp4M92Mt52BL7QXQ44hSRqT3sKmqo7dxKpXztC2gBM3sZ/lwPIZ6iuBA2ao3zrTMSRJ47O1TBCQJE0ww0aS1DvDRpLUO8NGktQ7w0aS1DvDRpLUO8NGktQ7w0aS1DvDRpLUO8NGktQ7w0aS1DvDRpLUO8NGktQ7w0aS1DvDRpLUO8NGktQ7w0aS1DvDRpLUO8NGktQ7w0aS1DvDRpLUO8NGktQ7w0aS1DvDRpLUO8NGktQ7w0aS1DvDRpLUu7GETZIbk1yT5KokK1vt6UkuSXJ9e9+j1ZPk9CSrk1yd5KCB/Sxr7a9Psmyg/pK2/9Vt28z9WUqSpozzyuYVVXVgVS1pyycBl1bVYuDStgxwOLC4vU4AzoAunICTgZcCBwMnTwVUa3PCwHZL+z8dSdKmbE3DaEcC57TP5wBHDdTPrc7XgN2T7A0cBlxSVRuq6jbgEmBpW/e0qrq8qgo4d2BfkqQxGFfYFPDFJFcmOaHV9qqqdQDt/ZmtvgC4aWDbNa02rL5mhrokaUx2GNNxX1ZVa5M8E7gkyXeGtJ3pfkttQf2xO+6C7gSAfffdd3iPJUlbbCxXNlW1tr3fAnya7p7LzW0IjPZ+S2u+Blg4sPk+wNpZ6vvMUJ+pH2dW1ZKqWjJ//vzHe1qSpE2Y87BJ8pQkT536DBwKXAtcBEzNKFsGfLZ9vgg4rs1KOwS4ow2zrQAOTbJHmxhwKLCirbszySFtFtpxA/uSJI3BOIbR9gI+3WYj7wB8rKr+IckVwAVJjgd+ABzd2l8MHAGsBu4B3gRQVRuSvBe4orV7T1VtaJ/fDHwY2Bn4QntJksZkzsOmqm4AXjRD/VbglTPUCzhxE/taDiyfob4SOOBxd1aS9ITYmqY+S5ImlGEjSeqdYSNJ6p1hI0nqnWEjSeqdYSNJ6p1hI0nqnWEjSeqdYSNJ6p1hI0nqnWEjSeqdYSNJ6p1hI0nqnWEjSeqdYSNJ6p1hI0nqnWEjSeqdYSNJ6p1hI0nqnWEjSeqdYSNJ6p1hI0nqnWEjSeqdYSNJ6p1hI0nqnWEjSeqdYSNJ6p1hI0nq3cSGTZKlSb6bZHWSk8bdH0nank1k2CSZB/wVcDiwP3Bskv3H2ytJ2n5NZNgABwOrq+qGqnoAOB84csx9kqTt1g7j7kBPFgA3DSyvAV46vVGSE4AT2uJdSb47B33bXuwJ/GjcnZhN3j/uHmgMtom/m9uQ54zSaFLDJjPU6jGFqjOBM/vvzvYnycqqWjLufkjT+XdzPCZ1GG0NsHBgeR9g7Zj6IknbvUkNmyuAxUn2S7ITcAxw0Zj7JEnbrYkcRquqh5K8FVgBzAOWV9WqMXdre+PwpLZW/t0cg1Q95laGJElPqEkdRpMkbUUMG0lS7wwbSVLvJnKCgOZWkp+ie0LDArrfZ1oLXFRV1421Y5K2Gl7Z6HFJ8g66xwEF+AbdtPMAH/cBqNqaJXnTuPuwPXE2mh6XJP8PeGFVPTitvhOwqqoWj6dn0nBJflBV+467H9sLh9H0eD0CPBv4/rT63m2dNDZJrt7UKmCvuezL9s6w0eP1NuDSJNfz44ef7gs8H3jr2HoldfYCDgNum1YP8H/mvjvbL8NGj0tV/UOSF9B9rcMCuv+J1wBXVNXDY+2cBJ8Ddq2qq6avSPKVue/O9st7NpKk3jkbTZLUO8NGktQ7w0YagyTPSnJ+kn9J8u0kFyd5QZJrx903qQ9OEJDmWJIAnwbOqapjWu1AnIqrCeaVjTT3XgE8WFV/PVVos6Wmpo6TZFGS/53km+31862+d5LLklyV5Nokv5BkXpIPt+Vrkrx97k9JGs4rG2nuHQBcOUubW4BXVdV9SRYDHweWAG8AVlTVqUnmAbsABwILquoAgCS799d1acsYNtLWaUfgg2147WHgBa1+BbA8yY7AZ6rqqiQ3AM9N8j+BzwNfHEuPpSEcRpPm3irgJbO0eTtwM/AiuiuanQCq6jLgF4EfAuclOa6qbmvtvgKcCPxtP92WtpxhI829LwE/keS3pwpJfhZ4zkCb3YB1VfUI8BvAvNbuOcAtVXUWcDZwUJI9gSdV1aeAPwIOmpvTkEbnMJo0x6qqkrwW+Iv2NQz3ATfSPWduyoeATyU5GvgycHervxz4r0keBO4CjqN7TND/SjL1w+M7ez8JaTP5uBpJUu8cRpMk9c6wkST1zrCRJPXOsJEk9c6wkST1zrCRJPXOsJEk9c6wkST17v8DF//MsJh+lHEAAAAASUVORK5CYII=\n",
      "text/plain": [
       "<matplotlib.figure.Figure at 0x1110396a0>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "#用pandas画简单的图\n",
    "count_class.plot(kind='bar')\n",
    "plt.title('Fraud class histogram')\n",
    "plt.xlabel('Class')\n",
    "plt.ylabel('Frequency')\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## 数据预处理\n",
    "### 1）正常样本的个数 与 异常样本的个数如下图， 样本数据不均衡该怎么办？\n",
    "    \n",
    "    #方法一：下采样 - 如上图减少0样本的个数，让它与1样本一样的少， 看看哪种更好？\n",
    "    #方法二：过采样 - 让1号样本变多，让它与0号样本一样的多"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### 2）某些特征数值太大，比如这里的normAmount，保证特征之间的分布差异差不多\n",
    "    #归一化\n",
    "    #标准化"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>V1</th>\n",
       "      <th>V2</th>\n",
       "      <th>V3</th>\n",
       "      <th>V4</th>\n",
       "      <th>V5</th>\n",
       "      <th>V6</th>\n",
       "      <th>V7</th>\n",
       "      <th>V8</th>\n",
       "      <th>V9</th>\n",
       "      <th>V10</th>\n",
       "      <th>...</th>\n",
       "      <th>V21</th>\n",
       "      <th>V22</th>\n",
       "      <th>V23</th>\n",
       "      <th>V24</th>\n",
       "      <th>V25</th>\n",
       "      <th>V26</th>\n",
       "      <th>V27</th>\n",
       "      <th>V28</th>\n",
       "      <th>Class</th>\n",
       "      <th>normAmount</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>-1.359807</td>\n",
       "      <td>-0.072781</td>\n",
       "      <td>2.536347</td>\n",
       "      <td>1.378155</td>\n",
       "      <td>-0.338321</td>\n",
       "      <td>0.462388</td>\n",
       "      <td>0.239599</td>\n",
       "      <td>0.098698</td>\n",
       "      <td>0.363787</td>\n",
       "      <td>0.090794</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.018307</td>\n",
       "      <td>0.277838</td>\n",
       "      <td>-0.110474</td>\n",
       "      <td>0.066928</td>\n",
       "      <td>0.128539</td>\n",
       "      <td>-0.189115</td>\n",
       "      <td>0.133558</td>\n",
       "      <td>-0.021053</td>\n",
       "      <td>0</td>\n",
       "      <td>0.244964</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>1.191857</td>\n",
       "      <td>0.266151</td>\n",
       "      <td>0.166480</td>\n",
       "      <td>0.448154</td>\n",
       "      <td>0.060018</td>\n",
       "      <td>-0.082361</td>\n",
       "      <td>-0.078803</td>\n",
       "      <td>0.085102</td>\n",
       "      <td>-0.255425</td>\n",
       "      <td>-0.166974</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.225775</td>\n",
       "      <td>-0.638672</td>\n",
       "      <td>0.101288</td>\n",
       "      <td>-0.339846</td>\n",
       "      <td>0.167170</td>\n",
       "      <td>0.125895</td>\n",
       "      <td>-0.008983</td>\n",
       "      <td>0.014724</td>\n",
       "      <td>0</td>\n",
       "      <td>-0.342475</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>-1.358354</td>\n",
       "      <td>-1.340163</td>\n",
       "      <td>1.773209</td>\n",
       "      <td>0.379780</td>\n",
       "      <td>-0.503198</td>\n",
       "      <td>1.800499</td>\n",
       "      <td>0.791461</td>\n",
       "      <td>0.247676</td>\n",
       "      <td>-1.514654</td>\n",
       "      <td>0.207643</td>\n",
       "      <td>...</td>\n",
       "      <td>0.247998</td>\n",
       "      <td>0.771679</td>\n",
       "      <td>0.909412</td>\n",
       "      <td>-0.689281</td>\n",
       "      <td>-0.327642</td>\n",
       "      <td>-0.139097</td>\n",
       "      <td>-0.055353</td>\n",
       "      <td>-0.059752</td>\n",
       "      <td>0</td>\n",
       "      <td>1.160686</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>-0.966272</td>\n",
       "      <td>-0.185226</td>\n",
       "      <td>1.792993</td>\n",
       "      <td>-0.863291</td>\n",
       "      <td>-0.010309</td>\n",
       "      <td>1.247203</td>\n",
       "      <td>0.237609</td>\n",
       "      <td>0.377436</td>\n",
       "      <td>-1.387024</td>\n",
       "      <td>-0.054952</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.108300</td>\n",
       "      <td>0.005274</td>\n",
       "      <td>-0.190321</td>\n",
       "      <td>-1.175575</td>\n",
       "      <td>0.647376</td>\n",
       "      <td>-0.221929</td>\n",
       "      <td>0.062723</td>\n",
       "      <td>0.061458</td>\n",
       "      <td>0</td>\n",
       "      <td>0.140534</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>-1.158233</td>\n",
       "      <td>0.877737</td>\n",
       "      <td>1.548718</td>\n",
       "      <td>0.403034</td>\n",
       "      <td>-0.407193</td>\n",
       "      <td>0.095921</td>\n",
       "      <td>0.592941</td>\n",
       "      <td>-0.270533</td>\n",
       "      <td>0.817739</td>\n",
       "      <td>0.753074</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.009431</td>\n",
       "      <td>0.798278</td>\n",
       "      <td>-0.137458</td>\n",
       "      <td>0.141267</td>\n",
       "      <td>-0.206010</td>\n",
       "      <td>0.502292</td>\n",
       "      <td>0.219422</td>\n",
       "      <td>0.215153</td>\n",
       "      <td>0</td>\n",
       "      <td>-0.073403</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows × 30 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "         V1        V2        V3        V4        V5        V6        V7  \\\n",
       "0 -1.359807 -0.072781  2.536347  1.378155 -0.338321  0.462388  0.239599   \n",
       "1  1.191857  0.266151  0.166480  0.448154  0.060018 -0.082361 -0.078803   \n",
       "2 -1.358354 -1.340163  1.773209  0.379780 -0.503198  1.800499  0.791461   \n",
       "3 -0.966272 -0.185226  1.792993 -0.863291 -0.010309  1.247203  0.237609   \n",
       "4 -1.158233  0.877737  1.548718  0.403034 -0.407193  0.095921  0.592941   \n",
       "\n",
       "         V8        V9       V10     ...           V21       V22       V23  \\\n",
       "0  0.098698  0.363787  0.090794     ...     -0.018307  0.277838 -0.110474   \n",
       "1  0.085102 -0.255425 -0.166974     ...     -0.225775 -0.638672  0.101288   \n",
       "2  0.247676 -1.514654  0.207643     ...      0.247998  0.771679  0.909412   \n",
       "3  0.377436 -1.387024 -0.054952     ...     -0.108300  0.005274 -0.190321   \n",
       "4 -0.270533  0.817739  0.753074     ...     -0.009431  0.798278 -0.137458   \n",
       "\n",
       "        V24       V25       V26       V27       V28  Class  normAmount  \n",
       "0  0.066928  0.128539 -0.189115  0.133558 -0.021053      0    0.244964  \n",
       "1 -0.339846  0.167170  0.125895 -0.008983  0.014724      0   -0.342475  \n",
       "2 -0.689281 -0.327642 -0.139097 -0.055353 -0.059752      0    1.160686  \n",
       "3 -1.175575  0.647376 -0.221929  0.062723  0.061458      0    0.140534  \n",
       "4  0.141267 -0.206010  0.502292  0.219422  0.215153      0   -0.073403  \n",
       "\n",
       "[5 rows x 30 columns]"
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#预处理\n",
    "from sklearn.preprocessing import StandardScaler\n",
    "#data中加上一列，把原来的Amount转换为新的特征\n",
    "data['normAmount'] = StandardScaler().fit_transform(data['Amount'].values.reshape(-1, 1)) #注意reshape python3.0的用法\n",
    "#删除原来的没用的特征，用drop(['',''], axis = 1) 表示列\n",
    "data = data.drop(['Time','Amount'], axis = 1)\n",
    "data.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### 1.1下采样策略 ： 使得0和1的样本一样少"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Percentage of normal transction: 0.5\n",
      "Percentage of normal transction: 0.5\n",
      "Total number of new dataset 984\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "array([   541,    623,   4920,   6108,   6329,   6331,   6334,   6336,\n",
       "         6338,   6427,   6446,   6472,   6529,   6609,   6641,   6717,\n",
       "         6719,   6734,   6774,   6820,   6870,   6882,   6899,   6903,\n",
       "         6971,   8296,   8312,   8335,   8615,   8617,   8842,   8845,\n",
       "         8972,   9035,   9179,   9252,   9487,   9509,  10204,  10484,\n",
       "        10497,  10498,  10568,  10630,  10690,  10801,  10891,  10897,\n",
       "        11343,  11710,  11841,  11880,  12070,  12108,  12261,  12369,\n",
       "        14104,  14170,  14197,  14211,  14338,  15166,  15204,  15225,\n",
       "        15451,  15476,  15506,  15539,  15566,  15736,  15751,  15781,\n",
       "        15810,  16415,  16780,  16863,  17317,  17366,  17407,  17453,\n",
       "        17480,  18466,  18472,  18773,  18809,  20198,  23308,  23422,\n",
       "        26802,  27362,  27627,  27738,  27749,  29687,  30100,  30314,\n",
       "        30384,  30398,  30442,  30473,  30496,  31002,  33276,  39183,\n",
       "        40085,  40525,  41395,  41569,  41943,  42007,  42009,  42473,\n",
       "        42528,  42549,  42590,  42609,  42635,  42674,  42696,  42700,\n",
       "        42741,  42756,  42769,  42784,  42856,  42887,  42936,  42945,\n",
       "        42958,  43061,  43160,  43204,  43428,  43624,  43681,  43773,\n",
       "        44001,  44091,  44223,  44270,  44556,  45203,  45732,  46909,\n",
       "        46918,  46998,  47802,  48094,  50211,  50537,  52466,  52521,\n",
       "        52584,  53591,  53794,  55401,  56703,  57248,  57470,  57615,\n",
       "        58422,  58761,  59539,  61787,  63421,  63634,  64329,  64411,\n",
       "        64460,  68067,  68320,  68522,  68633,  69498,  69980,  70141,\n",
       "        70589,  72757,  73784,  73857,  74496,  74507,  74794,  75511,\n",
       "        76555,  76609,  76929,  77099,  77348,  77387,  77682,  79525,\n",
       "        79536,  79835,  79874,  79883,  80760,  81186,  81609,  82400,\n",
       "        83053,  83297,  83417,  84543,  86155,  87354,  88258,  88307,\n",
       "        88876,  88897,  89190,  91671,  92777,  93424,  93486,  93788,\n",
       "        94218,  95534,  95597,  96341,  96789,  96994,  99506, 100623,\n",
       "       101509, 102441, 102442, 102443, 102444, 102445, 102446, 102782,\n",
       "       105178, 106679, 106998, 107067, 107637, 108258, 108708, 111690,\n",
       "       112840, 114271, 116139, 116404, 118308, 119714, 119781, 120505,\n",
       "       120837, 122479, 123141, 123201, 123238, 123270, 123301, 124036,\n",
       "       124087, 124115, 124176, 125342, 128479, 131272, 135718, 137705,\n",
       "       140786, 141257, 141258, 141259, 141260, 142405, 142557, 143188,\n",
       "       143333, 143334, 143335, 143336, 143728, 143731, 144104, 144108,\n",
       "       144754, 145800, 146790, 147548, 147605, 149145, 149357, 149522,\n",
       "       149577, 149587, 149600, 149869, 149874, 150601, 150644, 150647,\n",
       "       150654, 150660, 150661, 150662, 150663, 150665, 150666, 150667,\n",
       "       150668, 150669, 150677, 150678, 150679, 150680, 150684, 150687,\n",
       "       150692, 150697, 150715, 150925, 151006, 151007, 151008, 151009,\n",
       "       151011, 151103, 151196, 151462, 151519, 151730, 151807, 152019,\n",
       "       152223, 152295, 153823, 153835, 153885, 154234, 154286, 154371,\n",
       "       154454, 154587, 154633, 154668, 154670, 154676, 154684, 154693,\n",
       "       154694, 154697, 154718, 154719, 154720, 154960, 156988, 156990,\n",
       "       157585, 157868, 157871, 157918, 163149, 163586, 167184, 167305,\n",
       "       172787, 176049, 177195, 178208, 181966, 182992, 183106, 184379,\n",
       "       189587, 189701, 189878, 190368, 191074, 191267, 191359, 191544,\n",
       "       191690, 192382, 192529, 192584, 192687, 195383, 197586, 198868,\n",
       "       199896, 201098, 201601, 203324, 203328, 203700, 204064, 204079,\n",
       "       204503, 208651, 212516, 212644, 213092, 213116, 214662, 214775,\n",
       "       215132, 215953, 215984, 218442, 219025, 219892, 220725, 221018,\n",
       "       221041, 222133, 222419, 223366, 223572, 223578, 223618, 226814,\n",
       "       226877, 229712, 229730, 230076, 230476, 231978, 233258, 234574,\n",
       "       234632, 234633, 234705, 235616, 235634, 235644, 237107, 237426,\n",
       "       238222, 238366, 238466, 239499, 239501, 240222, 241254, 241445,\n",
       "       243393, 243547, 243699, 243749, 243848, 244004, 244333, 245347,\n",
       "       245556, 247673, 247995, 248296, 248971, 249167, 249239, 249607,\n",
       "       249828, 249963, 250761, 251477, 251866, 251881, 251891, 251904,\n",
       "       252124, 252774, 254344, 254395, 255403, 255556, 258403, 261056,\n",
       "       261473, 261925, 262560, 262826, 263080, 263274, 263324, 263877,\n",
       "       268375, 272521, 274382, 274475, 275992, 276071, 276864, 279863,\n",
       "       280143, 280149, 281144, 281674])"
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 构造特征数据，：表示选择所有的行，x列选择中不包含‘Class’这一列label， y列中只选择包含label这一列\n",
    "X = data.iloc[:, data.columns != 'Class']\n",
    "Y = data.iloc[:, data.columns == 'Class']\n",
    "\n",
    "#统计Class=1的样本有多少，然后在让0样本数量与1样本数量一致\n",
    "number_records_fraud = len(data[data.Class == 1]) #统计异常样本个数\n",
    "#取所有1样本（少）索引值，再把所有的索引值组成新的array\n",
    "fraud_indices = np.array(data[data.Class == 1].index) \n",
    "#取所有0样本（多）的索引值\n",
    "normal_indices = np.array(data[data.Class == 0].index)\n",
    "#从0样本中随机取，让取出的0样本的个数等于1样本个数; np.random.choice()用法：http://blog.csdn.net/autoliuweijie/article/details/51982514\n",
    "random_normal_indices = np.random.choice(normal_indices, number_records_fraud, replace = False)\n",
    "#随机取出来，取得里面值的index值\n",
    "random_normal_indices = np.array(random_normal_indices)\n",
    "\n",
    "#组合拼接，把index都存着\n",
    "under_sample_indices = np.concatenate([fraud_indices, random_normal_indices])\n",
    "\n",
    "#利用组合号的index，从data取出数据\n",
    "under_sample_data = data.iloc[under_sample_indices,:] #取出需要的列，取出所有行\n",
    "\n",
    "#获得列新的数据集合\n",
    "X_undersample = under_sample_data.iloc[:, under_sample_data.columns != 'Class']\n",
    "Y_undersample = under_sample_data.iloc[:, under_sample_data.columns == 'Class']\n",
    "\n",
    "#打印新的数据集合，看下正样本与负样本均衡了么\n",
    "print(\"Percentage of normal transction:\", len(under_sample_data[under_sample_data.Class == 0])/len(under_sample_data))\n",
    "print(\"Percentage of normal transction:\", len(under_sample_data[under_sample_data.Class == 1])/len(under_sample_data))\n",
    "print(\"Total number of new dataset\", len(under_sample_data))\n",
    "fraud_indices #返回的是所有1样本的索引\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### 交叉验证\n",
    "    #先洗牌\n",
    "    #再切分"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "**********我是分割线**********\n",
      "Number transaction train dataset: 199364\n",
      "Number transaction test dataset: 85443\n",
      "Total number of transaction: 284807\n"
     ]
    },
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/Users/a1/anaconda3/lib/python3.6/site-packages/sklearn/cross_validation.py:41: DeprecationWarning: This module was deprecated in version 0.18 in favor of the model_selection module into which all the refactored classes and functions are moved. Also note that the interface of the new CV iterators are different from that of this module. This module will be removed in 0.20.\n",
      "  \"This module will be removed in 0.20.\", DeprecationWarning)\n"
     ]
    }
   ],
   "source": [
    "from sklearn.cross_validation import train_test_split\n",
    "\n",
    "#对整个原始数据集切分,查看如何使用train_test_split\n",
    "#http://scikit-learn.org/stable/modules/generated/sklearn.cross_validation.train_test_split.html\n",
    "X_train, X_test, y_train, y_test = train_test_split(X, Y, test_size = 0.3, random_state = 0)\n",
    "\n",
    "print(\"**********我是分割线**********\")\n",
    "print(\"Number transaction train dataset:\", len(X_train))\n",
    "print(\"Number transaction test dataset:\", len(X_test))\n",
    "print(\"Total number of transaction:\", len(X_train)+len(X_test))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### 这里为什么对原始数据集也进行切分？ → 后续测试model时使用\n",
    "    #回答：因为下采样数据集切分，只是为了得到合适的model，真正验证时候，需要把model放到原始的测试集中，因为下采样的测试集第一小，第二分部规则不一定与原始数据集合一样"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "**********我是分割线**********\n",
      "Number transaction train dataset: 688\n",
      "Number transaction test dataset: 296\n",
      "Total number of transaction: 984\n"
     ]
    }
   ],
   "source": [
    "#对下采样的后的数据集进行切分\n",
    "X_train_undersample, X_test_undersample, y_train_undersample, y_test_undersample = train_test_split(X_undersample, Y_undersample, test_size = 0.3, random_state = 0)\n",
    "\n",
    "print(\"**********我是分割线**********\")\n",
    "print(\"Number transaction train dataset:\", len(X_train_undersample))\n",
    "print(\"Number transaction test dataset:\", len(X_test_undersample))\n",
    "print(\"Total number of transaction:\", len(X_train_undersample) + len(X_test_undersample))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### 建模操作- 逻辑回归模型\n",
    "    #模型评估方法，不能仅仅依靠精度，特别是样本不均衡的情况下\n",
    "    #需要用recall来制定model的评估标准\n",
    "    #Recall = TP/TP+FN  (True positive/ True positive + False nagative)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [],
   "source": [
    "#导入机器学习建模库，逻辑回归; 交叉验证（几份）&结果；混淆矩阵\n",
    "from sklearn.linear_model import LogisticRegression\n",
    "from sklearn.cross_validation import KFold, cross_val_score\n",
    "from sklearn.metrics import confusion_matrix, recall_score, classification_report"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [],
   "source": [
    "#切分完数据集后，进行交叉验证\n",
    "def printing_Kfold_scores(x_train_data, y_train_data):\n",
    "    fold = KFold(len(y_train_data), 5, shuffle=False)\n",
    "    \n",
    "    #正则化惩罚项,参数: 希望model浮动小，泛化能力更强，更能避免过拟合A,B，model\n",
    "    #L2正则化+1/2 w平方，看谁的loss小，惩罚力度可以用λ调节\n",
    "    #L1正则化，加|w|绝对值\n",
    "    c_param_range = [0.01, 0.1, 1, 10, 100] #这个就是λ\n",
    "    \n",
    "    #可视化展示\n",
    "    results_table = pd.DataFrame(index = range(len(c_param_range), 2), columns = ['C_parameter', 'Mean recall score'])\n",
    "    results_table['C_parameter'] = c_param_range\n",
    "    \n",
    "    j = 0\n",
    "    for c_param in c_param_range:\n",
    "        print(\"---------------------------------\")\n",
    "        print('C parameter:', c_param)\n",
    "        print(\"---------------------------------\")\n",
    "        print('')\n",
    "        \n",
    "        recall_accs = []\n",
    "        ## enumerate 转化为枚举值，iteration：枚举编号，indices：枚举值\n",
    "        #http://blog.csdn.net/churximi/article/details/51648388\n",
    "        for iteration, indices in enumerate(fold, start=1):#交叉验证，每次取不同的训练集，测试集\n",
    "            \n",
    "            #选择逻辑回归模型, 实例化模型\n",
    "            lr = LogisticRegression(C = c_param, penalty = 'l1') #传进参数λ，选则l1正则化，也可以选l2\n",
    "            \n",
    "            #进行训练fit\n",
    "            lr.fit(x_train_data.iloc[indices[0], :], y_train_data.iloc[indices[0],:].values.ravel())\n",
    "            \n",
    "            #进行预测再train里面的validation测试集中\n",
    "            y_pred_undersample = lr.predict(x_train_data.iloc[indices[1],:].values)\n",
    "            \n",
    "            #计算召回率，recall\n",
    "            recall_acc = recall_score(y_train_data.iloc[indices[1],:].values, y_pred_undersample)\n",
    "            recall_accs.append(recall_acc)\n",
    "            print('Iteration', iteration, ':recall score = ', recall_acc)\n",
    "            \n",
    "            #recall的平均值\n",
    "        results_table.loc[j, 'Mean recall score'] = np.mean(recall_accs)\n",
    "        j += 1\n",
    "        print('')\n",
    "        print('mean recall score', np.mean(recall_accs))\n",
    "        print('')\n",
    "\n",
    "    #best_c = results_table.loc[results_table['Mean recall score'].idxmax()]['C_parameter']\n",
    "    best_c = results_table\n",
    "    best_c.dtypes.eq(object) #因为best_c中的mean recall score 值的类型为‘object’,需要转换为'float'，这里找出类型为‘object’的列名，返回index\n",
    "    new = best_c.columns[best_c.dtypes.eq(object)] #利用返回的列名，找出那一列，pandas.columns，\n",
    "    best_c[new] = best_c[new].apply(pd.to_numeric, errors = 'coerce', axis=0) #对该列进行操作，把‘object’转换为‘float’类型\n",
    "    best_c\n",
    "    #通过idxmax()函数取得‘Mean recall score’中值最大的行号，通过行号找到这行，然后取这行列名为‘C_parameter’的值\n",
    "    best_c = results_table.loc[results_table['Mean recall score'].idxmax()]['C_parameter']\n",
    "\n",
    "    #如何找到值最大时候的索引值\n",
    "\n",
    "    #选择最合适的C参数\n",
    "    # Finally, we can check which C parameter is the best amongst the chosen.\n",
    "    print('*********************************************************************************')\n",
    "    print('Best model to choose from cross validation is with C parameter = ', best_c)\n",
    "    print('*********************************************************************************')\n",
    "    \n",
    "    #print (best_c.dtypes)\n",
    "    #print(best_c.dtypes.eq(object))\n",
    "    print(new)\n",
    "    #print(best_c.dtypes)\n",
    "    \n",
    "    return best_c"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "---------------------------------\n",
      "C parameter: 0.01\n",
      "---------------------------------\n",
      "\n",
      "Iteration 1 :recall score =  0.9315068493150684\n",
      "Iteration 2 :recall score =  0.9178082191780822\n",
      "Iteration 3 :recall score =  1.0\n",
      "Iteration 4 :recall score =  0.9594594594594594\n",
      "Iteration 5 :recall score =  0.9696969696969697\n",
      "\n",
      "mean recall score 0.955694299529916\n",
      "\n",
      "---------------------------------\n",
      "C parameter: 0.1\n",
      "---------------------------------\n",
      "\n",
      "Iteration 1 :recall score =  0.8493150684931506\n",
      "Iteration 2 :recall score =  0.863013698630137\n",
      "Iteration 3 :recall score =  0.9322033898305084\n",
      "Iteration 4 :recall score =  0.9324324324324325\n",
      "Iteration 5 :recall score =  0.8787878787878788\n",
      "\n",
      "mean recall score 0.8911504936348214\n",
      "\n",
      "---------------------------------\n",
      "C parameter: 1\n",
      "---------------------------------\n",
      "\n",
      "Iteration 1 :recall score =  0.8493150684931506\n",
      "Iteration 2 :recall score =  0.8767123287671232\n",
      "Iteration 3 :recall score =  0.9661016949152542\n",
      "Iteration 4 :recall score =  0.9459459459459459\n",
      "Iteration 5 :recall score =  0.8939393939393939\n",
      "\n",
      "mean recall score 0.9064028864121736\n",
      "\n",
      "---------------------------------\n",
      "C parameter: 10\n",
      "---------------------------------\n",
      "\n",
      "Iteration 1 :recall score =  0.863013698630137\n",
      "Iteration 2 :recall score =  0.8904109589041096\n",
      "Iteration 3 :recall score =  0.9661016949152542\n",
      "Iteration 4 :recall score =  0.9324324324324325\n",
      "Iteration 5 :recall score =  0.9090909090909091\n",
      "\n",
      "mean recall score 0.9122099387945685\n",
      "\n",
      "---------------------------------\n",
      "C parameter: 100\n",
      "---------------------------------\n",
      "\n",
      "Iteration 1 :recall score =  0.863013698630137\n",
      "Iteration 2 :recall score =  0.8904109589041096\n",
      "Iteration 3 :recall score =  0.9661016949152542\n",
      "Iteration 4 :recall score =  0.9324324324324325\n",
      "Iteration 5 :recall score =  0.9090909090909091\n",
      "\n",
      "mean recall score 0.9122099387945685\n",
      "\n",
      "*********************************************************************************\n",
      "Best model to choose from cross validation is with C parameter =  0.01\n",
      "*********************************************************************************\n",
      "Index(['Mean recall score'], dtype='object')\n"
     ]
    }
   ],
   "source": [
    "best_c = printing_Kfold_scores(X_train_undersample, y_train_undersample)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### 混淆矩阵\n",
    "    #里面有预测值与真实值可以求一些指标, Recall值TP/TP+FN，精度值TP+FN/TP+FN+TN+FP\n",
    "    #在下采样中，recall值可以满足要求，但是当模型用在整体数据集中容易误杀太多，精度会降低，那么如何解决呢？\n",
    "    #要不要试一试 过采样？\n",
    "    #如果我啥都不用，用原始的数据，那模型效果怎样呢？"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [],
   "source": [
    "#混淆矩阵\n",
    "#http://scikit-learn.org/stable/auto_examples/model_selection/plot_confusion_matrix.html 官方画图实例\n",
    "def plot_confusion_matrix(cm, classes,\n",
    "                          title='Confusion matrix',\n",
    "                          cmap=plt.cm.Blues):\n",
    "    \"\"\"\n",
    "    This function prints and plots the confusion matrix.\n",
    "    \"\"\"\n",
    "    plt.imshow(cm, interpolation='nearest', cmap=cmap)\n",
    "    plt.title(title)\n",
    "    plt.colorbar()\n",
    "    tick_marks = np.arange(len(classes))\n",
    "    plt.xticks(tick_marks, classes, rotation=0)\n",
    "    plt.yticks(tick_marks, classes)\n",
    "\n",
    "    thresh = cm.max() / 2.\n",
    "    for i, j in itertools.product(range(cm.shape[0]), range(cm.shape[1])):\n",
    "        plt.text(j, i, cm[i, j],\n",
    "                 horizontalalignment=\"center\",\n",
    "                 color=\"white\" if cm[i, j] > thresh else \"black\")\n",
    "\n",
    "    plt.tight_layout()\n",
    "    plt.ylabel('True label')\n",
    "    plt.xlabel('Predicted label')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Recall metric in the testing dataset:  0.9319727891156463\n"
     ]
    },
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAU0AAAEmCAYAAADmw8JdAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADl0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uIDIuMS4yLCBodHRwOi8vbWF0cGxvdGxpYi5vcmcvNQv5yAAAHVlJREFUeJzt3Xu8FXW9//HXe0OChAqIKIIoGmoej1fkkPekDJOE+mliinhJ0rSbeRLNvFQePZWVlWWYF9J+IF084i0jfprKURMQb8cbWihJApJI4g35/P6Y2ZzFdrP3zGKtPWvY76ePebDmsuf72dDj3Xe+851ZigjMzCybpqILMDMrE4emmVkODk0zsxwcmmZmOTg0zcxycGiameXg0OxkJG0s6RZJyyX9ej3Oc6ykP9SytqJIOkDS00XXYeUgz9NsTJI+A5wJ7AysAOYBF0fEfet53nHAF4B9I2LVehfa4CQFMCQi5hddi20Y3NNsQJLOBH4I/AewJTAI+Ckwugan3xZ4pjMEZhaSuhZdg5VMRHhpoAXYDPgncFQbx3QjCdWX0uWHQLd038HAQuCrwGJgEXBiuu8i4G3gnbSNk4ELgRsqzr0dEEDXdP0E4HmS3u5fgGMrtt9X8XP7Ag8By9M/963YdzfwLWBWep4/AH3X8bs11/+1ivrHAB8HngGWAedWHD8MuB94NT32J8BG6b570t/l9fT3Pbri/GcDfweub96W/swOaRt7petbA0uBg4v+34aXxljc02w8HwK6Aze1cczXgeHAHsDuJMFxXsX+rUjCdwBJMF4hqXdEXEDSe70xInpGxNVtFSLp/cCPgMMiYhOSYJzXynF9gNvSYzcHvg/cJmnzisM+A5wI9AM2As5qo+mtSP4OBgDnA1cBxwF7AwcA50vaPj32XeArQF+Sv7sRwOcBIuLA9Jjd09/3xorz9yHpdU+obDginiMJ1F9J6gFcC1wXEXe3Ua91Ig7NxrM5sDTavnw+FvhmRCyOiCUkPchxFfvfSfe/ExG3k/SydqqyntXArpI2johFEfFEK8ccDjwbEddHxKqImAI8BXyi4phrI+KZiHgDmEYS+OvyDsn47TvAVJJAvDwiVqTtPwHsBhARcyLigbTdvwI/Bw7K8DtdEBFvpfWsJSKuAp4FHgT6k/yflBng0GxErwB92xlr2xpYULG+IN225hwtQncl0DNvIRHxOskl7anAIkm3Sdo5Qz3NNQ2oWP97jnpeiYh308/NofZyxf43mn9e0o6SbpX0d0mvkfSk+7ZxboAlEfFmO8dcBewK/Dgi3mrnWOtEHJqN537gTZJxvHV5ieTSstmgdFs1Xgd6VKxvVbkzIu6MiI+S9LieIgmT9upprulvVdaUx89I6hoSEZsC5wJq52fanDIiqSfJOPHVwIXp8IMZ4NBsOBGxnGQc7wpJYyT1kPQ+SYdJ+k562BTgPElbSOqbHn9DlU3OAw6UNEjSZsA5zTskbSnpiHRs8y2Sy/x3WznH7cCOkj4jqauko4FdgFurrCmPTYDXgH+mveDTWux/Gdj+PT/VtsuBORHxWZKx2ivXu0rbYDg0G1BEfJ9kjuZ5wBLgReAM4L/SQ74NzAYeBR4D5qbbqmlrBnBjeq45rB10TSR34V8iuaN8EOlNlhbneAUYlR77Csmd71ERsbSamnI6i+Qm0wqSXvCNLfZfCEyW9KqkT7d3MkmjgZEkQxKQ/DvsJenYmlVspebJ7WZmObinaWaWg0PTzCwHh6aZWQ4OTTOzHBrqZQV6X49Q915Fl2E1tNuQ/kWXYDX04oIFvPLK0vbmwWbWZdNtI1a956GsdYo3ltwZESNr1X41Gis0u/ei2x6fLboMq6EZt3+j6BKshj560PCani9WvUG3ndqdCbbGm/OuaO9pr7prqNA0s85GoHKNEjo0zaw4AlSzq/0O4dA0s2K5p2lmlpWgqUvRReTi0DSzYvny3MwsI+HLczOz7OSepplZLu5pmpnl4J6mmVlWntxuZpadJ7ebmeXknqaZWVa+PDczy05AFz8RZGaWncc0zcyy8uW5mVk+7mmameXgnqaZWUbys+dmZvm4p2lmloN7mmZmWfnuuZlZPu5pmpll5De3m5nl4S9WMzPLp2Q9zXJVa2Ybnua5mlmWdk+layQtlvR4xbbvSnpK0qOSbpLUq2LfOZLmS3pa0seylOvQNLPiKL17nnVp33XAyBbbZgC7RsRuwDPAOUnT2gUYC/xL+jM/ldTuWIFD08yKVcOeZkTcAyxrse0PEbEqXX0AGJh+Hg1MjYi3IuIvwHxgWHttODTNrFCSMi81cBJwR/p5APBixb6F6bY2+UaQmRUm+YqgXGHYV9LsivVJETEpU1vS14FVwK8qmm8p2juPQ9PMiiNaj651WxoRQ3M3I40HRgEjIqI5GBcC21QcNhB4qb1z+fLczAqU/dK82stzSSOBs4EjImJlxa7pwFhJ3SQNBoYAf27vfO5pmlmhajRW2XyuKcDBJJfxC4ELSO6WdwNmpG09EBGnRsQTkqYB/0Ny2X56RLzbXhsOTTMrVFNT7S54I+KYVjZf3cbxFwMX52nDoWlmxck/plk4h6aZFUbUbCpRh3FomlmhHJpmZjk4NM3McnBompll5RtBZmb5uKdpZpaR756bmeXk0DQzy0qgJoemmVlm7mmameXg0DQzy8g3gszM8ipXZjo0zaxAKt/lud/cXgdXThzDgulfY/bk09dsO//kQ/jzdZ/ngWtO45bLjqf/5psAsOOgvtz9s1N4deb5fHnsfkWVbBl96fOnsMv2Azjw3/ZYs+2xR+dx2CH78+H9hvLRg4Yzd/ZDBVZYPh38xWrrzaFZB9ff8TCjz7p+rW0/mDKLYSf8lOEn/Yw7/vtpzjnhYAD+8dobfPXy2/jh1FkFVGp5jT32eKb+7ta1tn3zG+dy1sTzuGvWbM4+9wK+ef45BVVXTg5NY9YjC1j22htrbVux8q01n3tsvBGRfundkldfZ85TL/HOqtUdWqNV50P7HUCv3r3X2iaJFSteA+C115az1Vb9iyitvJRjaQAe0+xAF54ygmM/tgfLX3+TkV+6tuhyrEa+/Z/f4+hPjuLC8yayevVqbpvxp6JLKpVG6UFmVdeepqSRkp6WNF/SxHq2VQYXXjWTIUdextQZj3Lqp/6t6HKsRq77xSS+ecl3mffk83zrku/y5TM+V3RJpZHn0rxRwrVuoSmpC3AFcBiwC3CMpF3q1V6ZTJvxKGMO8l/FhuLGKdcz6ohPAnDEJ4/k4Tm+EZRHU1NT5qUR1LOKYcD8iHg+It4GpgKj69heQ9thYJ81nw/ff2eeeWFpgdVYLW21VX/++757ALj3T3ex/Q4fKLiikvGY5hoDgBcr1hcC77kmlTQBmABAt83qWE7HmXzBkRyw52D6btaD+b/9Kt+65i5GDh/CkEF9WR3BC39fzhe/Nx2ALfv0ZNZVn2OT93dj9ergjKOGs+e4n6x148gax+dOPI5Z993DsleWsvvOg/nauedz2Y+v5Lyzz2TVqlV079adyy7/WdFllkqjXHZnVc/QbO1vIt6zIWISMAmgaZOt37O/jMZf9Jv3bJt829xWj3152T/5wP+5rN4lWY38/NobWt3+x3se7OBKNhAlnNxez9BcCGxTsT4QeKmO7ZlZyQgoWWbWdUzzIWCIpMGSNgLGAtPr2J6ZlU757p7XracZEasknQHcCXQBromIJ+rVnpmVU4NkYWZ1ndweEbcDt9ezDTMrt0bpQWbVGBOfzKxzUtLTzLq0ezrpGkmLJT1esa2PpBmSnk3/7J1ul6QfpQ/fPCpprywlOzTNrDACmpqUecngOmBki20TgZkRMQSYma5D8uDNkHSZAGSaK+bQNLNC1TI0I+IeYFmLzaOByennycCYiu2/jMQDQC9J7b5txaFpZsXJf3neV9LsimVChla2jIhFAOmf/dLtrT2AM6C9k/ktR2ZWmGSeZq4bQUsjYmgNm2+p3QdsHJpmVqAOmX/5sqT+EbEovfxenG6v6gEcX56bWaFqefd8HaYD49PP44GbK7Yfn95FHw4sb76Mb4t7mmZWqFr2NCVNAQ4mGftcCFwAXApMk3Qy8AJwVHr47cDHgfnASuDELG04NM2sOOvXg3yPiDhmHbtGtHJsAKe3cmybHJpmVpgqbgQVzqFpZoUqWWY6NM2sWO5pmpllJbI+HtkwHJpmVpgyvoTYoWlmBWqclwtn5dA0s0KVLDMdmmZWLPc0zcyyqvHk9o7g0DSzwnhyu5lZTg5NM7McSpaZDk0zK5Z7mmZmWflGkJlZdiLzt0w2DIemmRWqqWRdTYemmRWqZJnp0DSz4iTf/VOu1HRomlmhSjak6dA0s2JtMD1NSZu29YMR8VrtyzGzzqZkmdlmT/MJIEgeD23WvB7AoDrWZWadgEimHZXJOkMzIrbpyELMrHMq25hmU5aDJI2VdG76eaCkvetblpl1Ckre3J51aQTthqaknwAfBsalm1YCV9azKDPrHAR0aVLmpRFkuXu+b0TsJelhgIhYJmmjOtdlZp1Eg3QgM8sSmu9IaiK5+YOkzYHVda3KzDqNRrnszirLmOYVwG+BLSRdBNwH/GddqzKzTkHKtzSCdnuaEfFLSXOAj6SbjoqIx+tblpl1FrV+YYekrwCfJbk6fgw4EegPTAX6AHOBcRHxdjXnz3T3HOgCvAO8neNnzMzapRxLu+eSBgBfBIZGxK4k2TWW5Or4BxExBPgHcHK19Wa5e/51YAqwNTAQ+L+Szqm2QTOzSnWYctQV2FhSV6AHsAg4BPhNun8yMKbaerPcCDoO2DsiVgJIuhiYA1xSbaNmZpD0HnPOJOoraXbF+qSImNS8EhF/k/Q94AXgDeAPJHn1akSsSg9bCAyotuYsobmgxXFdgeerbdDMbI38k9aXRsTQdZ9OvYHRwGDgVeDXwGGtHBp5Gq3U1gs7fpCeeCXwhKQ70/VDSe6gm5mttxrfB/oI8JeIWJKcW78D9gV6Seqa9jYHAi9V20BbPc3mO+RPALdVbH+g2sbMzCo1PxFUQy8AwyX1ILk8HwHMBu4CjiS5gz4euLnaBtp6YcfV1Z7UzCyrWk5uj4gHJf2GZFrRKuBhYBJJx2+qpG+n26rOt3bHNCXtAFwM7AJ0ryhux2obNTNrVus56xFxAXBBi83PA8Nqcf4scy6vA64l+d0OA6aRdHHNzNaLlExuz7o0giyh2SMi7gSIiOci4jyStx6Zma23De4xSuAtJYMOz0k6Ffgb0K++ZZlZZ1G2F3ZkCc2vAD1JHk26GNgMOKmeRZlZ51GyzMz0wo4H048r+N8XEZuZrTfROGOVWbU1uf0m2pg1HxGfqktFZtZ5NNBYZVZt9TR/0mFVpPbccWtm3fXNjm7W6qj3PmcUXYLV0FtPv1jzc24wY5oRMbMjCzGzzqls75rMciPIzKwu6vAYZd05NM2sUCXLzOyhKalbRLxVz2LMrHNJJq2XKzWzvLl9mKTHgGfT9d0l/bjulZlZp9Ck7EsjyDIG+yNgFPAKQEQ8gh+jNLMa2RAfo2yKiAUtutDv1qkeM+tEkq+7aJA0zChLaL4oaRgQkroAXwCeqW9ZZtZZbIhTjk4juUQfBLwM/DHdZma23krW0cz07Pliku8NNjOrKTXQezKzyvLm9qto5Rn0iJhQl4rMrFMpWWZmujz/Y8Xn7sAngdo/gGpmnY6Aro0ylyijLJfnN1auS7oemFG3isysU9kQe5otDQa2rXUhZtYJNdCk9ayyjGn+g/8d02wClgET61mUmXUeqvn3UdZXm6GZfjfQ7iTfCwSwOiLW+WJiM7M8ksntRVeRT5vzStOAvCki3k0XB6aZ1dSG+Oz5nyXtVfdKzKxTkpR5aQRtfUdQ14hYBewPnCLpOeB1kh51RISD1MzWSxkvz9sa0/wzsBcwpoNqMbPOpoHeXpRVW6EpgIh4roNqMbNOaEN6jHILSWeua2dEfL8O9ZhZJ5J8R1CNzyn1An4B7EoyXfIk4GngRmA74K/ApyPiH9Wcv61yuwA9gU3WsZiZrSfRlGPJ6HLg9xGxM8mUySdJ5pbPjIghwEzWY655Wz3NRRHhLyE3s7oRtR3TlLQpcCBwAkBEvA28LWk0cHB62GTgbuDsatpoq6dZroEGMyufHHM007vsfSXNrlhavm1te2AJcK2khyX9QtL7gS0jYhFA+me/aktuq6c5otqTmplllfNG0NKIGNrG/q4ks36+EBEPSrqcGj/2vc6eZkQsq2VDZmYtNV+e1/CL1RYCCyPiwXT9NyQh+rKk/gDpn4urrblsX89hZhuYpvTt7VmW9kTE30m+12yndNMI4H+A6cD4dNt44OZq663m1XBmZjVTh2maXwB+JWkj4HngRJIO4jRJJwMvAEdVe3KHppkVRtT+cjci5gGtjXvW5D6NQ9PMiiMa5kUcWTk0zaxQ5YpMh6aZFUhAF/c0zcyyK1lmOjTNrEiN83LhrByaZlaYetw9rzeHppkVyj1NM7McyhWZDk0zK5LnaZqZZecxTTOznNzTNDPLoVyR6dA0swL5iSAzs5xKlpkOTTMrklDJLtAdmmZWKPc0zcwySqYclSs1HZpmVpzsX5jWMByaZlYoh6aZWQ6+EWRr+dxnT+KO229li379mDPvcQCWLVvGuM8czYIFf2XbbbfjhinT6N27d8GV2rpcecGxHHbgrixZtoKhR/0HAOd//nBGHbQbqyNYsmwFEy64gUVLlvOV40dw9Mf3AaBrlyZ2HrwV2xwykX+8trLIX6FhCWgqV2aW7rHP0hk3/gRuvvX3a2373ncu5eBDRvD4k89y8CEj+N53Li2oOsvi+lseYPTpV6y17QeTZzLs6EsYPvZS7rj3cc6ZcFiy/ZczGT72UoaPvZTzfzyde+c868Bsh3L81wgcmnW2/wEH0qdPn7W23XrLzRw3Lvne+uPGjeeW6f9VRGmW0ay5z7Fs+drBt+L1N9d87rFxNyLiPT/36ZFDmfb7OXWvr+yapMxLI/DleQEWv/wy/fv3B6B///4sWby44IqsGhee/gmOHTWM5f98g5ETfrTWvo27v4+P7vtBvnLptIKqKwdfnleQdI2kxZIer1cbZkW68IpbGHLYN5h6x2xOPfrAtfYdfuC/cv+8531p3q48F+eNka71vDy/DhhZx/OXVr8tt2TRokUALFq0iC369Su4Ilsf0+54iDEj9lhr21Ef25tf+9K8fek8zaxLI6hbaEbEPcCyep2/zA4fdQQ3XD8ZgBuun8yoT4wuuCLLa4dBW6z5fPhBu/HMX19es75pz+7sv/cHuOXuR4sorXSUY2kEhY9pSpoATADYZtCggqupveOPO4Z7/3Q3S5cuZYftBvKN8y/irK9N5LhjPs3ka69mm20G8aupvy66TGvD5EtO4IC9h9C3V0/m//5bfOvK2xm5/78wZNt+rF4dvLBoGV+8eOqa44/48O7MfOApVr75doFVl0Mypln7OJTUBZgN/C0iRkkaDEwF+gBzgXERUdU/kFq761crkrYDbo2IXbMcv/feQ2PWg7PrVo91vN77nFF0CVZDbz09jdUrF9cs5T74r3vGtTfdlfn4Dw3pPScihrZ3nKQzgaHApmloTgN+FxFTJV0JPBIRP6umZk85MrNi1fj6XNJA4HDgF+m6gEOA36SHTAbGVFtu4ZfnZta51eGu+A+BrwGbpOubA69GxKp0fSEwoNqT13PK0RTgfmAnSQslnVyvtsysvHLePe8raXbFMmHtc2kUsDgiKqcutJbKVY9L1q2nGRHH1OvcZrbhyNnPXNrOmOZ+wBGSPg50BzYl6Xn2ktQ17W0OBF6qrlqPaZpZgUTyFb5Zl/ZExDkRMTAitgPGAv8vIo4F7gKOTA8bD9xcbc0OTTMrTsdNbj8bOFPSfJIxzqurPZFvBJlZoeo1aT0i7gbuTj8/DwyrxXkdmmZWrEZ51Ccjh6aZFahxXsSRlUPTzArVKC/iyMqhaWaFaaQXcWTl0DSzYpUsNR2aZlYoj2mameXgMU0zs6wa6I3sWTk0zaxQvjw3M8soefa86CrycWiaWaFKlpkOTTMrWMlS06FpZoXymKaZWQ4e0zQzy6FkmenQNLOClSw1HZpmVpjkhR3lSk2HppkVR9BUrsx0aJpZwRyaZmZZ+c3tZma5eMqRmVlGfnO7mVleJUtNh6aZFcpjmmZmOXhM08wsh5JlpkPTzArkr7swM8urXKnZVHQBZtZ5ieQxyqxLu+eTtpF0l6QnJT0h6Uvp9j6SZkh6Nv2zd7U1OzTNrFBS9iWDVcBXI+KDwHDgdEm7ABOBmRExBJiZrlfFoWlmhVKO/9oTEYsiYm76eQXwJDAAGA1MTg+bDIyptl6PaZpZsfINafaVNLtifVJETGr1tNJ2wJ7Ag8CWEbEIkmCV1K+qWnFomlnBct4GWhoRQ9s9p9QT+C3w5Yh4TTW8Re/LczMrTJ7xzKy5J+l9JIH5q4j4Xbr5ZUn90/39gcXV1uzQNLNC1XJMU0mX8mrgyYj4fsWu6cD49PN44OZq6/XluZkVq7bTNPcDxgGPSZqXbjsXuBSYJulk4AXgqGobcGiaWaFqmZkRcV8bpxxRizYcmmZWKD9GaWaWkRBNJUtN3wgyM8vBPU0zK1TJOpoOTTMrlt/cbmaWld+naWaWnb+N0swsr5KlpkPTzArlMU0zsxw8pmlmlkPJMtOhaWbFquW7LjuCQ9PMCiPKd3muiCi6hjUkLQEWFF1HB+gLLC26CKupzvJvum1EbFGrk0n6PcnfXVZLI2JkrdqvRkOFZmchaXaWV/ZbefjftPPwCzvMzHJwaJqZ5eDQLEarXzlqpeZ/007CY5pmZjm4p2lmloND08wsB4dmB5I0UtLTkuZLmlh0Pbb+JF0jabGkx4uuxTqGQ7ODSOoCXAEcBuwCHCNpl2Krshq4Dih0srV1LIdmxxkGzI+I5yPibWAqMLrgmmw9RcQ9wLKi67CO49DsOAOAFyvWF6bbzKxEHJodp7XXEni+l1nJODQ7zkJgm4r1gcBLBdViZlVyaHach4AhkgZL2ggYC0wvuCYzy8mh2UEiYhVwBnAn8CQwLSKeKLYqW1+SpgD3AztJWijp5KJrsvryY5RmZjm4p2lmloND08wsB4emmVkODk0zsxwcmmZmOTg0NyCS3pU0T9Ljkn4tqcd6nOtgSbemn49o661MknpJ+nwVbVwo6ays21scc52kI3O0tZ3fRGS14NDcsLwREXtExK7A28CplTuVyP1vHhHTI+LSNg7pBeQOTbMycmhuuO4FPpD2sJ6U9FNgLrCNpEMl3S9pbtoj7Qlr3vf5lKT7gE81n0jSCZJ+kn7eUtJNkh5Jl32BS4Ed0l7ud9Pj/l3SQ5IelXRRxbm+nr5T9I/ATu39EpJOSc/ziKTftug9f0TSvZKekTQqPb6LpO9WtP259f2LNKvk0NwASepK8t7Ox9JNOwG/jIg9gdeB84CPRMRewGzgTEndgauATwAHAFut4/Q/Av4UEbsDewFPABOB59Je7r9LOhQYQvI6vD2AvSUdKGlvksdH9yQJ5X0y/Dq/i4h90vaeBCqfuNkOOAg4HLgy/R1OBpZHxD7p+U+RNDhDO2aZdC26AKupjSXNSz/fC1wNbA0siIgH0u3DSV6CPEsSwEYkjwHuDPwlIp4FkHQDMKGVNg4BjgeIiHeB5ZJ6tzjm0HR5OF3vSRKimwA3RcTKtI0sz97vKunbJEMAPUkeQ202LSJWA89Kej79HQ4FdqsY79wsbfuZDG2ZtcuhuWF5IyL2qNyQBuPrlZuAGRFxTIvj9qB2r6oTcElE/LxFG1+uoo3rgDER8YikE4CDK/a1PFekbX8hIirDFUnb5WzXrFW+PO98HgD2k/QBAEk9JO0IPAUMlrRDetwx6/j5mcBp6c92kbQpsIKkF9nsTuCkirHSAZL6AfcAn5S0saRNSIYC2rMJsEjS+4BjW+w7SlJTWvP2wNNp26elxyNpR0nvz9COWSbuaXYyEbEk7bFNkdQt3XxeRDwjaQJwm6SlwH3Arq2c4kvApPRtPu8Cp0XE/ZJmpVN67kjHNT8I3J/2dP8JHBcRcyXdCMwDFpAMIbTnG8CD6fGPsXY4Pw38CdgSODUi3pT0C5KxzrlKGl8CjMn2t2PWPr/lyMwsB1+em5nl4NA0M8vBoWlmloND08wsB4emmVkODk0zsxwcmmZmOfx/kvQwrdIdmlMAAAAASUVORK5CYII=\n",
      "text/plain": [
       "<matplotlib.figure.Figure at 0x112b3e828>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "import itertools\n",
    "lr = LogisticRegression(C = best_c, penalty = 'l1')\n",
    "lr.fit(X_train_undersample,y_train_undersample.values.ravel())\n",
    "y_pred_undersample = lr.predict(X_test_undersample.values)\n",
    "\n",
    "# Compute confusion matrix\n",
    "cnf_matrix = confusion_matrix(y_test_undersample,y_pred_undersample)\n",
    "np.set_printoptions(precision=2)\n",
    "\n",
    "print(\"Recall metric in the testing dataset: \", cnf_matrix[1,1]/(cnf_matrix[1,0]+cnf_matrix[1,1]))\n",
    "\n",
    "# Plot non-normalized confusion matrix\n",
    "class_names = [0,1]\n",
    "plt.figure()\n",
    "plot_confusion_matrix(cnf_matrix\n",
    "                      , classes=class_names\n",
    "                      , title='Confusion matrix')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Recall metric in the testing dataset:  0.9183673469387755\n"
     ]
    },
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAVkAAAEmCAYAAADIhuPPAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADl0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uIDIuMS4yLCBodHRwOi8vbWF0cGxvdGxpYi5vcmcvNQv5yAAAIABJREFUeJzt3Xm8XdP9//HX++YmRE0hNTQxVYNqvkRCqNJqkcRQSfsrgpKiTeuLb1UnWm1MKaqDGsqXCgkqtKpSU0RKDUWTEDSmhH5xmxARQwgqfH5/7HU54pxzz03Ozr733Pezj/04e6+99trr5LafrrP2WmsrIjAzs3w0FV0BM7NG5iBrZpYjB1kzsxw5yJqZ5chB1swsRw6yZmY5cpDtYiT1lPQXSa9I+sNylHOQpFvqWbeiSNpZ0uNF18MakzxOtmOSdCBwLLAFsAiYCYyNiLuWs9yDgaOBHSNiyXJXtIOTFEC/iJhTdF2sa3JLtgOSdCxwFvAzYF1gQ+C3wPA6FL8R8ERXCLC1kNRcdB2swUWEtw60AWsArwH7VsmzElkQnpu2s4CV0rldgBbgu8B8YB5waDp3EvAf4O10j8OBE4HLS8reGAigOR1/DXiKrDX9L+CgkvS7Sq7bEZgGvJI+dyw5dztwCnB3KucWoHeF79Za/x+U1H8EsCfwBLAQ+FFJ/sHAPcDLKe+5QI907o70XV5P33f/kvJ/CDwHXNaalq7ZNN1jYDr+GLAA2KXo/25465ybW7Idz6eBlYFrq+T5MbADMADYmizQnFByfj2yYN2HLJCeJ6lXRIwhax1fFRGrRsTF1Soi6SPA2cAeEbEaWSCdWSbfWsANKe/awK+AGyStXZLtQOBQYB2gB/C9Krdej+zfoA/wU+Ai4KvAIGBn4KeSPp7yvgN8B+hN9m+3K/DfABHx2ZRn6/R9ryopfy2yVv3o0htHxJNkAfgKSasAlwCXRsTtVeprVpGDbMezNrAgqv+cPwg4OSLmR8QLZC3Ug0vOv53Ovx0RN5K14jZfxvq8C/SX1DMi5kXErDJ59gJmR8RlEbEkIq4EHgO+WJLnkoh4IiLeAK4m+z+ISt4m639+G5hIFkB/ExGL0v1nAVsBRMSMiLg33ff/gP8FPlfDdxoTEW+l+nxARFwEzAbuA9Yn+z81s2XiINvxvAj0bqOv8GPA0yXHT6e098pYKkgvBlZtb0Ui4nWyn9jfAuZJukHSFjXUp7VOfUqOn2tHfV6MiHfSfmsQfL7k/But10vaTNL1kp6T9CpZS713lbIBXoiIN9vIcxHQHzgnIt5qI69ZRQ6yHc89wJtk/ZCVzCX7qdtqw5S2LF4HVik5Xq/0ZERMjojdyVp0j5EFn7bq01qnfy9jndrjfLJ69YuI1YEfAWrjmqpDaiStStbPfTFwYuoOMVsmDrIdTES8QtYPeZ6kEZJWkdRd0h6Sfp6yXQmcIOmjknqn/Jcv4y1nAp+VtKGkNYDjW09IWlfSPqlv9i2ybod3ypRxI7CZpAMlNUvaH9gSuH4Z69QeqwGvAq+lVvYRS51/Hvj4h66q7jfAjIj4Ollf8wXLXUvrshxkO6CI+BXZGNkTgBeAZ4GjgD+nLKcC04GHgIeB+1PastxrCnBVKmsGHwyMTWSjFOaSPXH/HOmh0lJlvAjsnfK+SDYyYO+IWLAsdWqn75E9VFtE1sq+aqnzJwLjJb0sab+2CpM0HBhG1kUC2d9hoKSD6lZj61I8GcHMLEduyZqZ5chB1swsRw6yZmY5cpA1M8tRh1ocQ809Qz1WK7oaVkef2qxv0VWwOvr3s8+w8MUFbY1Drlm31TeKWPKhSXcVxRsvTI6IYfW6/4rQsYJsj9VYafM2R9lYJ3LdLWcWXQWro+G7f6au5cWSN9r1v/k3Z57X1my+DqdDBVkz62oEauxeSwdZMyuOANWt96FDcpA1s2K5JWtmlhdBU7eiK5ErB1kzK5a7C8zMciLcXWBmlh+5JWtmliu3ZM3McuSWrJlZXjwZwcwsP56MYGaWswZvyTb2tzOzDi51F9S6tVWatLmkmSXbq5KOkbSWpCmSZqfPXim/JJ0taY6khyQNLClrVMo/W9KokvRBkh5O15wtVW+KO8iaWXEEdOtW+9aGiHg8IgZExABgELAYuBY4DpgaEf2AqekYYA+gX9pGk71invQa+DHA9sBgYExrYE55RpdcV3XpRQdZMyuWVPvWPrsCT0bE08BwYHxKHw+MSPvDgQmRuRdYU9L6wFBgSkQsjIiXgCnAsHRu9Yi4J7K30E4oKass98maWYHaPbqgt6TpJccXRsSFFfKOBK5M++tGxDyAiJgnaZ2U3gd4tuSalpRWLb2lTHpFDrJmVqz2tVAXRMS2bRepHsA+wPFtZS2TFsuQXpG7C8ysWHV88FViD+D+iHg+HT+ffuqTPuen9BZgg5Lr+gJz20jvWya9IgdZMytOe/pj29fiPYD3uwoAJgGtIwRGAdeVpB+SRhnsALySuhUmA0Mk9UoPvIYAk9O5RZJ2SKMKDikpqyx3F5hZseo8TlbSKsDuwDdLkk8HrpZ0OPAMsG9KvxHYE5hDNhLhUICIWCjpFGBayndyRCxM+0cAlwI9gZvSVpGDrJkVq84zviJiMbD2Umkvko02WDpvAEdWKGccMK5M+nSgf631cZA1swJ57QIzs3x57QIzs5z4zQhmZnnyixTNzPLllqyZWY7cJ2tmlhN5dIGZWb7ckjUzy08ba153eg6yZlaY7BVfDrJmZvkQ5RcPbCAOsmZWILkla2aWJwdZM7McNTV5CJeZWT7cJ2tmlh+5T9bMLF8OsmZmOXKQNTPLkYOsmVle/ODLzCxfbsmameWkK4wuaOxRwGbW4UmqeauxvDUl/VHSY5IelfRpSWtJmiJpdvrslfJK0tmS5kh6SNLAknJGpfyzJY0qSR8k6eF0zdlqo2IOsmZWHIGaVPNWo98AN0fEFsDWwKPAccDUiOgHTE3HAHsA/dI2GjgfQNJawBhge2AwMKY1MKc8o0uuG1atMg6yZlaoerZkJa0OfBa4GCAi/hMRLwPDgfEp23hgRNofDkyIzL3AmpLWB4YCUyJiYUS8BEwBhqVzq0fEPRERwISSsspykDWzQrUzyPaWNL1kG71UcR8HXgAukfSApN9J+giwbkTMA0if66T8fYBnS65vSWnV0lvKpFfkB19mVphlePC1ICK2rXK+GRgIHB0R90n6De93DZSvwofFMqRX5JasmRVL7dja1gK0RMR96fiPZEH3+fRTn/Q5vyT/BiXX9wXmtpHet0x6RQ6yZlYc1bdPNiKeA56VtHlK2hV4BJgEtI4QGAVcl/YnAYekUQY7AK+k7oTJwBBJvdIDryHA5HRukaQd0qiCQ0rKKsvdBcuo30brcNkZh713vEmftTnl/BtYY7VVOOzLO/LCS68BMObcSUy+65H38m2wXi/uv+YExl5wI2ddNrViOef+/na22qwP5/x4JCut1J0l77zLMT+7iumznl5h37Gru+TC87jq8ksggv2/eiiHfvMoHnn4QX7yg//hrTffpFtzMyefcRZbD9yOJ2c/zg//55vMengmxx5/It848pj3yhl3wTlcfcWlILH5Jz/Fz3/zv6y08sqFfa+OJodxskcDV0jqATwFHErWoLxa0uHAM8C+Ke+NwJ7AHGBxyktELJR0CjAt5Ts5Iham/SOAS4GewE1pq8hBdhnNfno+O4w8HYCmJvHk5LFMuu1BDt7n05xz+W2cddnUstf9/Hv/j1vuntVmOQBjjxnB2Atv4pa7H2HoTlsy9pgRDP3Gb3L+Zgbw+KOzuOryS7j25jvo3qMHh+4/nF12H8YZJ5/A0d/7EbvsOpTbbr2ZM04+gd//eTJrrNmLn/7sF9xy018+UM5z8/7N+N/9lsl33s/KPXty9Ne/yl/+/Ae+MvLggr5Zx1PvIBsRM4Fy/ba7lskbwJEVyhkHjCuTPh3oX2t93F1QB58fvDn/anmBZ+a9VDXfF3fZin+1LOCRJ5+rqZwIWP0jWYtnjVV7Mu+FV+pbcavoydmPs82g7ei5yio0NzczeMeduOWGSUjitUWLAFj06quss976APT+6Dpstc22dG/u/qGylixZwptvvsGSJUt4443FrLvu+iv0u3R49e2T7XDckq2DfYcO4uqbZ7x3/K2Rn+XAvQdz/yPPcNyv/sTLi95glZV78N1Dd2evb53DMYfsVlM53//FH/nLeUdy2ne+RFOT+PzXfpn7d7HMZltsyS9/diIvLXyRlVfuyd9unUz/AQM54dSf87X99+G0E48n3n2XP9xwW9Vy1lu/D1//72PYeZvNWblnT3b63K7s/Pnyf/+uytNql4OkYZIeT9PPqg2j6LS6N3djr8/9F3+a8gAAF/3hTrb84olsP/J0nlvwKqcf+2UAfnLEXpxz+V95/Y3/1FQOwOh9d+YHv/wT/fb4CT/4xTWcP+ag/L+QAfCJzbbgm0cfy6h99+bQkcPZ4lP/RXNzM1dcehEnnPxz7p45mx+f8nOOO+aIquW88vJL3Hrz9dw+/RH+/tCTLF78On/+w5Ur6Ft0fO156NVZg3FuQVZSN+A8smlrWwIHSNoyr/sVZehOWzLzsWeZvzD7CTl/4SLefTeICMb96W627b8RANv134ixx4zgsRtO4qiDduH7hw/hW/t/tmI5AAftvT1/njoTgGumPMC2n9poBX4z2++grzFp6j1MnDSFNXv1YuNNNuVPV13B0L2HA7DnPl/moQemVy3j7jtuY4MNN2Lt3h+le/fuDN1rOPdPu3dFVL/TaGpqqnnrjPKs9WBgTkQ8FRH/ASaSTWFrKPsN2/YDP/HX6736e/vDv7A1jzw5D4DdDj+LLfYawxZ7jeHcK27nzItv4YKr7qhYDsC8F15h50H9ANhl8GbMeeaFPL+KLWXBC9lQyrktzzL5hkl88cv7se5663Pf3+8E4O933s5GH9+0ahkf69OXmTOm8cbixUQEf7/zdjbdbIvc696puE92mZWblrb90pnStLhsalz3VXOsTv31XLk7X9h+C4469f2ff2O/PYKtNu9LRPD0vIUcfWrbPw3LlQNw5Cm/58zvf4Xm5ibeemvJh85bvo487EBefmkhzc3dOfH0X7PGmr342S/P4+QTvsc7S95hpZVXYuwvzwXgheefY8SQnXht0SLU1MSlF57LzXfdz4BBgxm29wj22W1HujU386n+WzPy4MPauHPX0lm7AWqlbARDDgVL+wJDI+Lr6fhgYHBEHF3pmqZV1omVNt8vl/pYMWbdcmbRVbA6Gr77Z3h45v11i4orrdcv+h50ds35n/rVnjPamFbb4eTZkq00Lc3MDEi9AI3dkM21T3Ya0E/SJmnmxUiyKWxmZknjjy7IrSUbEUskHUU2B7gbMC4iZrVxmZl1MZ00dtYs18kIEXEj2dxgM7OyOmsLtVae8WVmxZFbsmZmuRHZwkiNzEHWzArlIGtmlhd3F5iZ5ScbJ9vYUdZB1swK1HnHv9bKQdbMCtXgMdZB1syK5ZasmVle/ODLzCw/fvBlZpazBo+xflutmRWr3qtwSfo/SQ9LmilpekpbS9IUSbPTZ6+ULklnp/cQPiRpYEk5o1L+2ZJGlaQPSuXPSddWrZiDrJkVR9mMr1q3dvh8RAwoWeD7OGBqRPQDpqZjyN5B2C9to4HzIQvKwBiyt7kMBsa0BuaUZ3TJdcOqVcRB1swK07pod63bchgOjE/744ERJekTInMvsKak9YGhwJSIWBgRLwFTgGHp3OoRcU9kr5WZUFJWWQ6yZlagdi/a3VvS9JJtdJlCA7hF0oyS8+tGxDyA9LlOSi/3LsI+baS3lEmvyA++zKxQ7WyhLqjhHV+fiYi5ktYBpkh6rNrty6TFMqRX5JasmRWq3g++ImJu+pwPXEvWp/p8+qlP+pyfsld6F2G19L5l0itykDWz4rSjP7aWGCvpI5JWa90HhgD/JHu/YOsIgVHAdWl/EnBIGmWwA/BK6k6YDAyR1Cs98BoCTE7nFknaIY0qOKSkrLLcXWBmhclhMsK6wLWpzGbg9xFxs6RpwNWSDgeeAfZN+W8E9gTmAIuBQwEiYqGkU8heCAtwckQsTPtHAJcCPYGb0laRg6yZFaqeQTYingK2LpP+IrBrmfQAjqxQ1jhgXJn06UD/WuvkIGtmhWr0GV8OsmZWKK9dYGaWF6/CZWaWH9Hu6bKdjoOsmRWqqcGbsg6yZlaoBo+xDrJmVpxskkFjR1kHWTMrVIN3yTrImlmxumxLVtLq1S6MiFfrXx0z62oaPMZWbcnO4sNLe7UeB7BhjvUysy5AZMO4GlnFIBsRG1Q6Z2ZWL43eJ1vTUoeSRkr6UdrvK2lQvtUysy6hHWvJdta+2zaDrKRzgc8DB6ekxcAFeVbKzLoGAd2aVPPWGdUyumDHiBgo6QF4b53FHjnXy8y6iE7aQK1ZLUH2bUlNpPfYSFobeDfXWplZl9FZuwFqVUuf7HnANcBHJZ0E3AWckWutzKxLaM+rZzprLG6zJRsREyTNAHZLSftGxD/zrZaZdRVeICbTDXibrMvAL180s7pp7BBb2+iCHwNXAh8je/3t7yUdn3fFzKxraPQhXLW0ZL8KDIqIxQCSxgIzgNPyrJiZNT7R+JMRagmyTy+Vrxl4Kp/qmFmX0olbqLWq2F0g6deSfkU2+WCWpN9Jugh4GHh5RVXQzBpbHqMLJHWT9ICk69PxJpLukzRb0lWtY/0lrZSO56TzG5eUcXxKf1zS0JL0YSltjqTj2qpLtZZs6wiCWcANJen31v5Vzcwqa53xlYNvA48CrasJngH8OiImSroAOBw4P32+FBGfkDQy5dtf0pbASOBTZM+jbpW0WSrrPGB3oAWYJmlSRDxSqSLVFoi5eHm+oZlZLerdXSCpL7AXMBY4VtkNvgAcmLKMB04kC7LD0z7AH4FzU/7hwMSIeAv4l6Q5wOCUb05EPJXuNTHlbX+QLanwpqmyWwIrt6ZHxGYVLzIzq1E7Q2xvSdNLji+MiAuXynMW8ANgtXS8NvByRCxJxy1An7TfB3gWICKWSHol5e/DB3+1l17z7FLp21ercC0Pvi4FTgV+AewBHIqn1ZpZHUjtnoywICK2rVye9gbmR8QMSbu0JpfJGm2cq5Re7jlWlEl7Ty0TC1aJiMkAEfFkRJxAtiqXmdlyq/ODr88A+0j6P2AiWTfBWcCakloblX2BuWm/Bdggq4eagTWAhaXpS11TKb2iWoLsW6mP4klJ35L0RWCdGq4zM2tTPScjRMTxEdE3IjYme3D114g4CLgN+ErKNgq4Lu1PSsek83+NiEjpI9Pog02AfsA/gGlAvzRaoUe6x6Rqdaqlu+A7wKrA/5D1za4BHFbDdWZmbVpBw2R/CEyUdCrwAND6YP9i4LL0YGshWdAkImZJuprsgdYS4MiIeCerr44CJpMtNzAuImZVu3EtC8Tcl3YX8f7C3WZmy00otwViIuJ24Pa0/xTvjw4ozfMmsG+F68eSNSyXTr8RuLHWelR7W+21VOnQjYgv13oTM7OyOvEShrWq1pI9d4XVItnmkxty930r/LZmVqMe3eq/CF+jT6utNhlh6oqsiJl1TY2+dmqt68mamdVdjtNqOwwHWTMrVIPH2NqDrKSV0jxeM7O6yCYZNHaUreXNCIMlPQzMTsdbSzon95qZWZfQpNq3zqiWPuezgb2BFwEi4kE8rdbM6qTLv60WaIqIp5dq0r+TU33MrAvJXj/TSaNnjWoJss9KGgyEpG7A0cAT+VbLzLoKD+GCI8i6DDYEngduTWlmZsutwRuyNa1dMJ+0aIKZWT1J+a1d0FHU8maEiyizhkFEjM6lRmbWpTR4jK2pu+DWkv2VgS/xwdcvmJktEwHNnXVsVo1q6S64qvRY0mXAlNxqZGZdiluyH7YJsFG9K2JmXVAnnmRQq1r6ZF/i/T7ZJrLVw4/Ls1Jm1nWove+r7WSqBtn0bq+tgX+npHfT+2/MzJZbNhmh6Frkq+o44BRQr42Id9LmAGtmdeW1C+AfkgbmXhMz65Lq+bbajqjaO76aI2IJsBPwDUlPAq+TtfAjIhx4zWy5dIXugmp9sv8ABgIjVlBdzKyr6cSra9WqWneBACLiyXLbCqqfmTW4pjS1tpatLZJWlvQPSQ9KmiXppJS+iaT7JM2WdJWkHil9pXQ8J53fuKSs41P645KGlqQPS2lzJLU50qpaS/ajko6tdDIiftXmNzYzqyJ7x1ddi3wL+EJEvCapO3CXpJuAY4FfR8RESRcAhwPnp8+XIuITkkYCZwD7S9qSbM2WTwEfA26VtFm6x3nA7kALME3SpIh4pFKFqn29bsCqwGoVNjOz5SSa2rG1JTKvpcPuaQvgC8AfU/p43u8GHZ6OSed3TUNXhwMTI+KtiPgXMAcYnLY5EfFURPwHmJjyVlStJTsvIk5u81uZmS0j0e4+2d6SppccXxgRF36gzGzd6xnAJ8hanU8CL6cH+ZC1QPuk/T6ktVgiYomkV4C1U/q9JcWWXvPsUunbV6twtSDb4N3RZla49o9/XRAR21bLEBHvAAMkrQlcC3yyXLb3a1D2XKX0cr/+q84fqBZkd612oZlZPeS1nmxEvCzpdmAHYM2SYal9gbkpWwuwAdAiqRlYg2zpgNb0VqXXVEovq2KfbEQsrPnbmJktg9bugnq9SFHSR1MLFkk9gd2AR4HbgK+kbKOA69L+pHRMOv/XNLN1EjAyjT7YBOhHNqx1GtAvjVboQfZwbFK1Oi3LKlxmZnVT55bs+sD41C/bBFwdEddLegSYKOlU4AHg4pT/YuAySXPIWrAjASJilqSrgUeAJcCRqRsCSUcBk8kGB4yLiFnVKuQga2aFqmeMjYiHgG3KpD9FNjJg6fQ3gX0rlDUWGFsm/Ubgxlrr5CBrZoURflutmVl+RKdd+KVWDrJmVqjGDrEOsmZWIAHd3JI1M8tPg8dYB1kzK1LnXYy7Vg6yZlYYjy4wM8uZW7JmZjlq7BDrIGtmRfI4WTOz/LhP1swsZ27JmpnlqLFDrIOsmRXIM77MzHLW4DHWQdbMiiTU4B0GDrJmVii3ZM3McpIN4WrsKOsga2bFqfEFiZ2Zg6yZFcpB1swsR43+4KvRZ7QV7ptfP4wNP7YOgwb0fy/t+B9+n637b8F222zFfl/5Ei+//HKBNbS2lPsbnjTmJ2y3zVZsP2gAe+8xhLlz5wJwx99uZ92112D7QQPYftAAfnbqyUVVu1MQ0KTat87IQTZnB4/6Gtddf/MH0nbdbXdmzPwn0x54iH79NuPMM04rqHZWi3J/w+989/tMe+Ah7psxkz323JvTSoLpZ3bamftmzOS+GTP50Qk/XdHV7XTUjv+0WZa0gaTbJD0qaZakb6f0tSRNkTQ7ffZK6ZJ0tqQ5kh6SNLCkrFEp/2xJo0rSB0l6OF1zttqYF+wgm7Oddv4sa6211gfSdtt9CM3NWU/N4O134N8tLUVUzWpU7m+4+uqrv7e/ePHrDT//Pk9NUs1bDZYA342ITwI7AEdK2hI4DpgaEf2AqekYYA+gX9pGA+dDFpSBMcD2wGBgTGtgTnlGl1w3rOr3q/HfwXIy4dJxDB22R9HVsGUw5ic/5hObbMDEK6/gJye+35K97957GDxwa4bvvQePzJpVYA07vnp3F0TEvIi4P+0vAh4F+gDDgfEp23hgRNofDkyIzL3AmpLWB4YCUyJiYUS8BEwBhqVzq0fEPRERwISSssrKLchKGidpvqR/5nWPzu6M08bSrbmZkQceVHRVbBmcdMpY5vzrWUYecBAX/PZcAAZsM5DHn3yaf9z/IEcceTT7faXq//6sXZ0FAugtaXrJNrpiydLGwDbAfcC6ETEPskAMrJOy9QGeLbmsJaVVS28pk15Rni3ZS2mjGd2VXT5hPDfecD2XTrjCPzU7uf1GHsifr70GyLoRVl11VQCG7bEnb7/9NgsWLCiyeh1bGidb6wYsiIhtS7YLyxYrrQpcAxwTEa9Wr8GHxDKkV5RbkI2IO4CFeZXfmd0y+WZ++Ysz+OO1k1hllVWKro4tgzmzZ7+3f8NfJrHZ5lsA8Nxzz5H9ioRp//gH7777LmuvvXYhdews1I6tpvKk7mQB9oqI+FNKfj791Cd9zk/pLcAGJZf3Bea2kd63THpFhY+TTc390QAbbLhhwbWpv0O+egB3/u12FixYwKYb9+UnPz2JM39+Gm+99RZ7D9sdyB5+nfPbCwquqVVS7m948803MvuJx2lSExtutBFnn5f9/a695o9cdOH5NHdrZuWePZlw+UT/Uqki65Ot379PetJ/MfBoRPyq5NQkYBRwevq8riT9KEkTyR5yvRIR8yRNBn5W8rBrCHB8RCyUtEjSDmTdEIcA51StU+v/6+Yh9YlcHxH928gKwKBB28bd903PrT5mtnw+s/22zJgxvW5R8ZP/tU1ccu1tNef/dL9eMyJi20rnJe0E3Ak8DLybkn9EFhCvBjYEngH2TQFTwLlkXZuLgUMjYnoq67B0LcDYiLgkpW9L1h3aE7gJODqqBNLCW7Jm1sXVsaEfEXdVKXHXMvkDOLJCWeOAcWXSpwM1NRzBQdbMCuZptctI0pXAPcDmklokHZ7Xvcys82rn6IJOJ7eWbEQckFfZZtY4OmnsrJm7C8ysMMKvBDczy08n7gaolYOsmRWqwWOsg6yZFazBo6yDrJkVyK8ENzPLlftkzcxy0p6FXzorB1kzK1aDR1kHWTMrlPtkzcxy5D5ZM7O8eDKCmVm+3F1gZpaTbO2ComuRLwdZMytUg8dYB1kzK1iDR1kHWTMrlPtkzcxy5D5ZM7McNXiMdZA1s4I1eJTN7UWKZmZtyRaIqf0/bZYnjZM0X9I/S9LWkjRF0uz02SulS9LZkuZIekjSwJJrRqX8syWNKkkfJOnhdM3ZquHdOQ6yZlYcQVM7thpcCgxbKu04YGpE9AOmpmOAPYB+aRsNnA9ZUAbGANsDg4ExrYE55Rldct3S9/oQB1kzK5basbUhIu4AFi6VPBwYn/bHAyNK0idE5l5gTUnrA0OBKRGxMCJeAqYAw9K51SPinogIYEJJWRW5T9bMCtTuNyP0ljS95PjCiLiwjWvWjYh5ABExT9JJ1zsOAAAF/klEQVQ6Kb0P8GxJvpaUVi29pUx6VQ6yZlaodg7hWhAR29br1mXSYhnSq3J3gZkVpj09BcsxCOH59FOf9Dk/pbcAG5Tk6wvMbSO9b5n0qhxkzaxY+UfZSUDrCIFRwHUl6YekUQY7AK+kboXJwBBJvdIDryHA5HRukaQd0qiCQ0rKqsjdBWZWqHpOq5V0JbALWd9tC9kogdOBqyUdDjwD7Juy3wjsCcwBFgOHAkTEQkmnANNSvpMjovVh2hFkIxh6AjelrSoHWTMrVD2n1UbEARVO7VombwBHVihnHDCuTPp0oH976uQga2aFavAJXw6yZlYgv37GzCxvjR1lHWTNrDCi5umynZaDrJkVyt0FZmY58psRzMzy1Ngx1kHWzIrV4DHWQdbMiiMP4TIzy5f7ZM3M8tTYMdZB1syK1eAx1kHWzIrlPlkzs5wI0dTgUdaLdpuZ5cgtWTMrVIM3ZB1kzaxYHsJlZpYXT0YwM8vPcr6FtlNwkDWzYjV4lHWQNbNCuU/WzCxH7pM1M8tRg8dYB1kzK5YavCnrIGtmhRGN312giCi6Du+R9ALwdNH1WAF6AwuKroTVVVf5m24UER+tV2GSbib7t6vVgogYVq/7rwgdKsh2FZKmR8S2RdfD6sd/U6vEC8SYmeXIQdbMLEcOssW4sOgKWN35b2pluU/WzCxHbsmameXIQdbMLEcOsiuQpGGSHpc0R9JxRdfHlp+kcZLmS/pn0XWxjslBdgWR1A04D9gD2BI4QNKWxdbK6uBSoFMNjrcVy0F2xRkMzImIpyLiP8BEYHjBdbLlFBF3AAuLrod1XA6yK04f4NmS45aUZmYNzEF2xSm3DIbHz5k1OAfZFacF2KDkuC8wt6C6mNkK4iC74kwD+knaRFIPYCQwqeA6mVnOHGRXkIhYAhwFTAYeBa6OiFnF1sqWl6QrgXuAzSW1SDq86DpZx+JptWZmOXJL1swsRw6yZmY5cpA1M8uRg6yZWY4cZM3McuQg20AkvSNppqR/SvqDpFWWo6xdJF2f9veptmqYpDUl/fcy3ONESd+rNX2pPJdK+ko77rWxV8qyIjjINpY3ImJARPQH/gN8q/SkMu3+m0fEpIg4vUqWNYF2B1mzrsBBtnHdCXwiteAelfRb4H5gA0lDJN0j6f7U4l0V3lvv9jFJdwFfbi1I0tcknZv215V0raQH07YjcDqwaWpFn5nyfV/SNEkPSTqppKwfpzV1bwU2b+tLSPpGKudBSdcs1TrfTdKdkp6QtHfK303SmSX3/uby/kOaLQ8H2QYkqZls3dqHU9LmwISI2AZ4HTgB2C0iBgLTgWMlrQxcBHwR2BlYr0LxZwN/i4itgYHALOA44MnUiv6+pCFAP7LlHQcAgyR9VtIgsunE25AF8e1q+Dp/iojt0v0eBUpnVG0MfA7YC7ggfYfDgVciYrtU/jckbVLDfcxy0Vx0BayuekqamfbvBC4GPgY8HRH3pvQdyBYNv1sSQA+yaaFbAP+KiNkAki4HRpe5xxeAQwAi4h3gFUm9lsozJG0PpONVyYLuasC1EbE43aOWtRv6SzqVrEtiVbJpya2ujoh3gdmSnkrfYQiwVUl/7Rrp3k/UcC+zunOQbSxvRMSA0oQUSF8vTQKmRMQBS+UbQP2WXhRwWkT871L3OGYZ7nEpMCIiHpT0NWCXknNLlxXp3kdHRGkwRtLG7byvWV24u6DruRf4jKRPAEhaRdJmwGPAJpI2TfkOqHD9VOCIdG03SasDi8haqa0mA4eV9PX2kbQOcAfwJUk9Ja1G1jXRltWAeZK6AwctdW5fSU2pzh8HHk/3PiLlR9Jmkj5Sw33McuGWbBcTES+kFuGVklZKySdExBOSRgM3SFoA3AX0L1PEt4EL02pT7wBHRMQ9ku5OQ6RuSv2ynwTuSS3p14CvRsT9kq4CZgJPk3VptOUnwH0p/8N8MJg/DvwNWBf4VkS8Kel3ZH219yu7+QvAiNr+dczqz6twmZnlyN0FZmY5cpA1M8uRg6yZWY4cZM3McuQga2aWIwdZM7McOciameXo/wPwVy23Y29HwgAAAABJRU5ErkJggg==\n",
      "text/plain": [
       "<matplotlib.figure.Figure at 0x119ddb198>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "lr = LogisticRegression(C = best_c, penalty = 'l1')\n",
    "lr.fit(X_train_undersample,y_train_undersample.values.ravel())\n",
    "y_pred = lr.predict(X_test.values)\n",
    "\n",
    "# Compute confusion matrix\n",
    "cnf_matrix = confusion_matrix(y_test,y_pred)\n",
    "np.set_printoptions(precision=2)\n",
    "\n",
    "print(\"Recall metric in the testing dataset: \", cnf_matrix[1,1]/(cnf_matrix[1,0]+cnf_matrix[1,1]))\n",
    "\n",
    "# Plot non-normalized confusion matrix\n",
    "class_names = [0,1]\n",
    "plt.figure()\n",
    "plot_confusion_matrix(cnf_matrix\n",
    "                      , classes=class_names\n",
    "                      , title='Confusion matrix')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "---------------------------------\n",
      "C parameter: 0.01\n",
      "---------------------------------\n",
      "\n",
      "Iteration 1 :recall score =  0.4925373134328358\n",
      "Iteration 2 :recall score =  0.6027397260273972\n",
      "Iteration 3 :recall score =  0.6833333333333333\n",
      "Iteration 4 :recall score =  0.5692307692307692\n",
      "Iteration 5 :recall score =  0.45\n",
      "\n",
      "mean recall score 0.5595682284048672\n",
      "\n",
      "---------------------------------\n",
      "C parameter: 0.1\n",
      "---------------------------------\n",
      "\n",
      "Iteration 1 :recall score =  0.5671641791044776\n",
      "Iteration 2 :recall score =  0.6164383561643836\n",
      "Iteration 3 :recall score =  0.6833333333333333\n",
      "Iteration 4 :recall score =  0.5846153846153846\n",
      "Iteration 5 :recall score =  0.525\n",
      "\n",
      "mean recall score 0.5953102506435158\n",
      "\n",
      "---------------------------------\n",
      "C parameter: 1\n",
      "---------------------------------\n",
      "\n",
      "Iteration 1 :recall score =  0.5522388059701493\n",
      "Iteration 2 :recall score =  0.6164383561643836\n",
      "Iteration 3 :recall score =  0.7166666666666667\n",
      "Iteration 4 :recall score =  0.6153846153846154\n",
      "Iteration 5 :recall score =  0.5625\n",
      "\n",
      "mean recall score 0.612645688837163\n",
      "\n",
      "---------------------------------\n",
      "C parameter: 10\n",
      "---------------------------------\n",
      "\n",
      "Iteration 1 :recall score =  0.5522388059701493\n",
      "Iteration 2 :recall score =  0.6164383561643836\n",
      "Iteration 3 :recall score =  0.7333333333333333\n",
      "Iteration 4 :recall score =  0.6153846153846154\n",
      "Iteration 5 :recall score =  0.575\n",
      "\n",
      "mean recall score 0.6184790221704963\n",
      "\n",
      "---------------------------------\n",
      "C parameter: 100\n",
      "---------------------------------\n",
      "\n",
      "Iteration 1 :recall score =  0.5522388059701493\n",
      "Iteration 2 :recall score =  0.6164383561643836\n",
      "Iteration 3 :recall score =  0.7333333333333333\n",
      "Iteration 4 :recall score =  0.6153846153846154\n",
      "Iteration 5 :recall score =  0.575\n",
      "\n",
      "mean recall score 0.6184790221704963\n",
      "\n",
      "*********************************************************************************\n",
      "Best model to choose from cross validation is with C parameter =  10.0\n",
      "*********************************************************************************\n",
      "Index(['Mean recall score'], dtype='object')\n"
     ]
    }
   ],
   "source": [
    "best_c = printing_Kfold_scores(X_train,y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Recall metric in the testing dataset:  1.0\n",
      "Recall metric in the testing dataset:  1.0\n",
      "Recall metric in the testing dataset:  1.0\n",
      "Recall metric in the testing dataset:  0.9727891156462585\n",
      "Recall metric in the testing dataset:  0.9319727891156463\n",
      "Recall metric in the testing dataset:  0.8571428571428571\n",
      "Recall metric in the testing dataset:  0.8231292517006803\n",
      "Recall metric in the testing dataset:  0.7346938775510204\n",
      "Recall metric in the testing dataset:  0.5918367346938775\n"
     ]
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<matplotlib.figure.Figure at 0x119d8a940>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "lr = LogisticRegression(C = 0.01, penalty = 'l1')\n",
    "lr.fit(X_train_undersample,y_train_undersample.values.ravel())\n",
    "y_pred_undersample_proba = lr.predict_proba(X_test_undersample.values)\n",
    "\n",
    "thresholds = [0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9]\n",
    "\n",
    "plt.figure(figsize=(10,10))\n",
    "\n",
    "j = 1\n",
    "for i in thresholds:\n",
    "    y_test_predictions_high_recall = y_pred_undersample_proba[:,1] > i\n",
    "    \n",
    "    plt.subplot(3,3,j)\n",
    "    j += 1\n",
    "    \n",
    "    # Compute confusion matrix\n",
    "    cnf_matrix = confusion_matrix(y_test_undersample,y_test_predictions_high_recall)\n",
    "    np.set_printoptions(precision=2)\n",
    "\n",
    "    print(\"Recall metric in the testing dataset: \", cnf_matrix[1,1]/(cnf_matrix[1,0]+cnf_matrix[1,1]))\n",
    "\n",
    "    # Plot non-normalized confusion matrix\n",
    "    class_names = [0,1]\n",
    "    plot_confusion_matrix(cnf_matrix\n",
    "                          , classes=class_names\n",
    "                          , title='Threshold >= %s'%i) "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "from imblearn.over_sampling import SMOTE\n",
    "from sklearn.ensemble import RandomForestClassifier\n",
    "from sklearn.metrics import confusion_matrix\n",
    "from sklearn.model_selection import train_test_split"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Time</th>\n",
       "      <th>V1</th>\n",
       "      <th>V2</th>\n",
       "      <th>V3</th>\n",
       "      <th>V4</th>\n",
       "      <th>V5</th>\n",
       "      <th>V6</th>\n",
       "      <th>V7</th>\n",
       "      <th>V8</th>\n",
       "      <th>V9</th>\n",
       "      <th>...</th>\n",
       "      <th>V21</th>\n",
       "      <th>V22</th>\n",
       "      <th>V23</th>\n",
       "      <th>V24</th>\n",
       "      <th>V25</th>\n",
       "      <th>V26</th>\n",
       "      <th>V27</th>\n",
       "      <th>V28</th>\n",
       "      <th>Amount</th>\n",
       "      <th>Class</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.0</td>\n",
       "      <td>-1.359807</td>\n",
       "      <td>-0.072781</td>\n",
       "      <td>2.536347</td>\n",
       "      <td>1.378155</td>\n",
       "      <td>-0.338321</td>\n",
       "      <td>0.462388</td>\n",
       "      <td>0.239599</td>\n",
       "      <td>0.098698</td>\n",
       "      <td>0.363787</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.018307</td>\n",
       "      <td>0.277838</td>\n",
       "      <td>-0.110474</td>\n",
       "      <td>0.066928</td>\n",
       "      <td>0.128539</td>\n",
       "      <td>-0.189115</td>\n",
       "      <td>0.133558</td>\n",
       "      <td>-0.021053</td>\n",
       "      <td>149.62</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.0</td>\n",
       "      <td>1.191857</td>\n",
       "      <td>0.266151</td>\n",
       "      <td>0.166480</td>\n",
       "      <td>0.448154</td>\n",
       "      <td>0.060018</td>\n",
       "      <td>-0.082361</td>\n",
       "      <td>-0.078803</td>\n",
       "      <td>0.085102</td>\n",
       "      <td>-0.255425</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.225775</td>\n",
       "      <td>-0.638672</td>\n",
       "      <td>0.101288</td>\n",
       "      <td>-0.339846</td>\n",
       "      <td>0.167170</td>\n",
       "      <td>0.125895</td>\n",
       "      <td>-0.008983</td>\n",
       "      <td>0.014724</td>\n",
       "      <td>2.69</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1.0</td>\n",
       "      <td>-1.358354</td>\n",
       "      <td>-1.340163</td>\n",
       "      <td>1.773209</td>\n",
       "      <td>0.379780</td>\n",
       "      <td>-0.503198</td>\n",
       "      <td>1.800499</td>\n",
       "      <td>0.791461</td>\n",
       "      <td>0.247676</td>\n",
       "      <td>-1.514654</td>\n",
       "      <td>...</td>\n",
       "      <td>0.247998</td>\n",
       "      <td>0.771679</td>\n",
       "      <td>0.909412</td>\n",
       "      <td>-0.689281</td>\n",
       "      <td>-0.327642</td>\n",
       "      <td>-0.139097</td>\n",
       "      <td>-0.055353</td>\n",
       "      <td>-0.059752</td>\n",
       "      <td>378.66</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>1.0</td>\n",
       "      <td>-0.966272</td>\n",
       "      <td>-0.185226</td>\n",
       "      <td>1.792993</td>\n",
       "      <td>-0.863291</td>\n",
       "      <td>-0.010309</td>\n",
       "      <td>1.247203</td>\n",
       "      <td>0.237609</td>\n",
       "      <td>0.377436</td>\n",
       "      <td>-1.387024</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.108300</td>\n",
       "      <td>0.005274</td>\n",
       "      <td>-0.190321</td>\n",
       "      <td>-1.175575</td>\n",
       "      <td>0.647376</td>\n",
       "      <td>-0.221929</td>\n",
       "      <td>0.062723</td>\n",
       "      <td>0.061458</td>\n",
       "      <td>123.50</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>2.0</td>\n",
       "      <td>-1.158233</td>\n",
       "      <td>0.877737</td>\n",
       "      <td>1.548718</td>\n",
       "      <td>0.403034</td>\n",
       "      <td>-0.407193</td>\n",
       "      <td>0.095921</td>\n",
       "      <td>0.592941</td>\n",
       "      <td>-0.270533</td>\n",
       "      <td>0.817739</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.009431</td>\n",
       "      <td>0.798278</td>\n",
       "      <td>-0.137458</td>\n",
       "      <td>0.141267</td>\n",
       "      <td>-0.206010</td>\n",
       "      <td>0.502292</td>\n",
       "      <td>0.219422</td>\n",
       "      <td>0.215153</td>\n",
       "      <td>69.99</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows × 31 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "   Time        V1        V2        V3        V4        V5        V6        V7  \\\n",
       "0   0.0 -1.359807 -0.072781  2.536347  1.378155 -0.338321  0.462388  0.239599   \n",
       "1   0.0  1.191857  0.266151  0.166480  0.448154  0.060018 -0.082361 -0.078803   \n",
       "2   1.0 -1.358354 -1.340163  1.773209  0.379780 -0.503198  1.800499  0.791461   \n",
       "3   1.0 -0.966272 -0.185226  1.792993 -0.863291 -0.010309  1.247203  0.237609   \n",
       "4   2.0 -1.158233  0.877737  1.548718  0.403034 -0.407193  0.095921  0.592941   \n",
       "\n",
       "         V8        V9  ...         V21       V22       V23       V24  \\\n",
       "0  0.098698  0.363787  ...   -0.018307  0.277838 -0.110474  0.066928   \n",
       "1  0.085102 -0.255425  ...   -0.225775 -0.638672  0.101288 -0.339846   \n",
       "2  0.247676 -1.514654  ...    0.247998  0.771679  0.909412 -0.689281   \n",
       "3  0.377436 -1.387024  ...   -0.108300  0.005274 -0.190321 -1.175575   \n",
       "4 -0.270533  0.817739  ...   -0.009431  0.798278 -0.137458  0.141267   \n",
       "\n",
       "        V25       V26       V27       V28  Amount  Class  \n",
       "0  0.128539 -0.189115  0.133558 -0.021053  149.62      0  \n",
       "1  0.167170  0.125895 -0.008983  0.014724    2.69      0  \n",
       "2 -0.327642 -0.139097 -0.055353 -0.059752  378.66      0  \n",
       "3  0.647376 -0.221929  0.062723  0.061458  123.50      0  \n",
       "4 -0.206010  0.502292  0.219422  0.215153   69.99      0  \n",
       "\n",
       "[5 rows x 31 columns]"
      ]
     },
     "execution_count": 27,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#导入数据\n",
    "credit_cards = pd.read_csv('creditcard.csv')\n",
    "#获取列名\n",
    "columns = credit_cards.columns\n",
    "#删除最后一列标签值 .delete()，取得特征值\n",
    "features_columns = columns.delete(len(columns)-1)\n",
    "credit_cards.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "30\n",
      "31\n"
     ]
    }
   ],
   "source": [
    "print(len(features_columns))\n",
    "print(len(columns))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Time</th>\n",
       "      <th>V1</th>\n",
       "      <th>V2</th>\n",
       "      <th>V3</th>\n",
       "      <th>V4</th>\n",
       "      <th>V5</th>\n",
       "      <th>V6</th>\n",
       "      <th>V7</th>\n",
       "      <th>V8</th>\n",
       "      <th>V9</th>\n",
       "      <th>...</th>\n",
       "      <th>V20</th>\n",
       "      <th>V21</th>\n",
       "      <th>V22</th>\n",
       "      <th>V23</th>\n",
       "      <th>V24</th>\n",
       "      <th>V25</th>\n",
       "      <th>V26</th>\n",
       "      <th>V27</th>\n",
       "      <th>V28</th>\n",
       "      <th>Amount</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.0</td>\n",
       "      <td>-1.359807</td>\n",
       "      <td>-0.072781</td>\n",
       "      <td>2.536347</td>\n",
       "      <td>1.378155</td>\n",
       "      <td>-0.338321</td>\n",
       "      <td>0.462388</td>\n",
       "      <td>0.239599</td>\n",
       "      <td>0.098698</td>\n",
       "      <td>0.363787</td>\n",
       "      <td>...</td>\n",
       "      <td>0.251412</td>\n",
       "      <td>-0.018307</td>\n",
       "      <td>0.277838</td>\n",
       "      <td>-0.110474</td>\n",
       "      <td>0.066928</td>\n",
       "      <td>0.128539</td>\n",
       "      <td>-0.189115</td>\n",
       "      <td>0.133558</td>\n",
       "      <td>-0.021053</td>\n",
       "      <td>149.62</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.0</td>\n",
       "      <td>1.191857</td>\n",
       "      <td>0.266151</td>\n",
       "      <td>0.166480</td>\n",
       "      <td>0.448154</td>\n",
       "      <td>0.060018</td>\n",
       "      <td>-0.082361</td>\n",
       "      <td>-0.078803</td>\n",
       "      <td>0.085102</td>\n",
       "      <td>-0.255425</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.069083</td>\n",
       "      <td>-0.225775</td>\n",
       "      <td>-0.638672</td>\n",
       "      <td>0.101288</td>\n",
       "      <td>-0.339846</td>\n",
       "      <td>0.167170</td>\n",
       "      <td>0.125895</td>\n",
       "      <td>-0.008983</td>\n",
       "      <td>0.014724</td>\n",
       "      <td>2.69</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1.0</td>\n",
       "      <td>-1.358354</td>\n",
       "      <td>-1.340163</td>\n",
       "      <td>1.773209</td>\n",
       "      <td>0.379780</td>\n",
       "      <td>-0.503198</td>\n",
       "      <td>1.800499</td>\n",
       "      <td>0.791461</td>\n",
       "      <td>0.247676</td>\n",
       "      <td>-1.514654</td>\n",
       "      <td>...</td>\n",
       "      <td>0.524980</td>\n",
       "      <td>0.247998</td>\n",
       "      <td>0.771679</td>\n",
       "      <td>0.909412</td>\n",
       "      <td>-0.689281</td>\n",
       "      <td>-0.327642</td>\n",
       "      <td>-0.139097</td>\n",
       "      <td>-0.055353</td>\n",
       "      <td>-0.059752</td>\n",
       "      <td>378.66</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>1.0</td>\n",
       "      <td>-0.966272</td>\n",
       "      <td>-0.185226</td>\n",
       "      <td>1.792993</td>\n",
       "      <td>-0.863291</td>\n",
       "      <td>-0.010309</td>\n",
       "      <td>1.247203</td>\n",
       "      <td>0.237609</td>\n",
       "      <td>0.377436</td>\n",
       "      <td>-1.387024</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.208038</td>\n",
       "      <td>-0.108300</td>\n",
       "      <td>0.005274</td>\n",
       "      <td>-0.190321</td>\n",
       "      <td>-1.175575</td>\n",
       "      <td>0.647376</td>\n",
       "      <td>-0.221929</td>\n",
       "      <td>0.062723</td>\n",
       "      <td>0.061458</td>\n",
       "      <td>123.50</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>2.0</td>\n",
       "      <td>-1.158233</td>\n",
       "      <td>0.877737</td>\n",
       "      <td>1.548718</td>\n",
       "      <td>0.403034</td>\n",
       "      <td>-0.407193</td>\n",
       "      <td>0.095921</td>\n",
       "      <td>0.592941</td>\n",
       "      <td>-0.270533</td>\n",
       "      <td>0.817739</td>\n",
       "      <td>...</td>\n",
       "      <td>0.408542</td>\n",
       "      <td>-0.009431</td>\n",
       "      <td>0.798278</td>\n",
       "      <td>-0.137458</td>\n",
       "      <td>0.141267</td>\n",
       "      <td>-0.206010</td>\n",
       "      <td>0.502292</td>\n",
       "      <td>0.219422</td>\n",
       "      <td>0.215153</td>\n",
       "      <td>69.99</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows × 30 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "   Time        V1        V2        V3        V4        V5        V6        V7  \\\n",
       "0   0.0 -1.359807 -0.072781  2.536347  1.378155 -0.338321  0.462388  0.239599   \n",
       "1   0.0  1.191857  0.266151  0.166480  0.448154  0.060018 -0.082361 -0.078803   \n",
       "2   1.0 -1.358354 -1.340163  1.773209  0.379780 -0.503198  1.800499  0.791461   \n",
       "3   1.0 -0.966272 -0.185226  1.792993 -0.863291 -0.010309  1.247203  0.237609   \n",
       "4   2.0 -1.158233  0.877737  1.548718  0.403034 -0.407193  0.095921  0.592941   \n",
       "\n",
       "         V8        V9   ...         V20       V21       V22       V23  \\\n",
       "0  0.098698  0.363787   ...    0.251412 -0.018307  0.277838 -0.110474   \n",
       "1  0.085102 -0.255425   ...   -0.069083 -0.225775 -0.638672  0.101288   \n",
       "2  0.247676 -1.514654   ...    0.524980  0.247998  0.771679  0.909412   \n",
       "3  0.377436 -1.387024   ...   -0.208038 -0.108300  0.005274 -0.190321   \n",
       "4 -0.270533  0.817739   ...    0.408542 -0.009431  0.798278 -0.137458   \n",
       "\n",
       "        V24       V25       V26       V27       V28  Amount  \n",
       "0  0.066928  0.128539 -0.189115  0.133558 -0.021053  149.62  \n",
       "1 -0.339846  0.167170  0.125895 -0.008983  0.014724    2.69  \n",
       "2 -0.689281 -0.327642 -0.139097 -0.055353 -0.059752  378.66  \n",
       "3 -1.175575  0.647376 -0.221929  0.062723  0.061458  123.50  \n",
       "4  0.141267 -0.206010  0.502292  0.219422  0.215153   69.99  \n",
       "\n",
       "[5 rows x 30 columns]"
      ]
     },
     "execution_count": 30,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#看一下是不是少了最后一列\n",
    "features = credit_cards[features_columns]\n",
    "features.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "metadata": {},
   "outputs": [],
   "source": [
    "#所以我们有了features和labels\n",
    "labels = credit_cards['Class']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {},
   "outputs": [],
   "source": [
    "#切分数据集合,进行抽样，分为训练集&测试集\n",
    "features_train, features_test, labels_train, labels_test = train_test_split(features, labels, test_size=0.2, random_state=0)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {},
   "outputs": [],
   "source": [
    "#采用SMOTE算法, 进行过采样\n",
    "#Synthetic Minority Oversampling Technique\n",
    "#http://blog.csdn.net/Yaphat/article/details/52463304?locationNum=7\n",
    "\n",
    "oversampler = SMOTE(random_state=0)#实例化一个模型，让每次随机生成一样的数据：random_state=0\n",
    "os_features, os_labels = oversampler.fit_sample(features_train, labels_train) #把训练集中的features&labels传入\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 44,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "454908"
      ]
     },
     "execution_count": 44,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#看训练集中，label等于1的样本有多少个\n",
    "len(os_labels[os_labels == 1])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 43,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "454908"
      ]
     },
     "execution_count": 43,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "len(os_labels[os_labels == 0])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "---------------------------------\n",
      "C parameter: 0.01\n",
      "---------------------------------\n",
      "\n",
      "Iteration 1 :recall score =  0.8903225806451613\n",
      "Iteration 2 :recall score =  0.8947368421052632\n",
      "Iteration 3 :recall score =  0.9686842978864667\n",
      "Iteration 4 :recall score =  0.9578703245732626\n",
      "Iteration 5 :recall score =  0.958397907255361\n",
      "\n",
      "mean recall score 0.934002390493103\n",
      "\n",
      "---------------------------------\n",
      "C parameter: 0.1\n",
      "---------------------------------\n",
      "\n",
      "Iteration 1 :recall score =  0.8903225806451613\n",
      "Iteration 2 :recall score =  0.8947368421052632\n",
      "Iteration 3 :recall score =  0.9699900409427907\n",
      "Iteration 4 :recall score =  0.9600685857486728\n",
      "Iteration 5 :recall score =  0.960321385783845\n",
      "\n",
      "mean recall score 0.9350878870451466\n",
      "\n",
      "---------------------------------\n",
      "C parameter: 1\n",
      "---------------------------------\n",
      "\n",
      "Iteration 1 :recall score =  0.8903225806451613\n",
      "Iteration 2 :recall score =  0.8947368421052632\n",
      "Iteration 3 :recall score =  0.970366271992918\n",
      "Iteration 4 :recall score =  0.9603543597014761\n",
      "Iteration 5 :recall score =  0.9600905683604269\n",
      "\n",
      "mean recall score 0.9351741245610492\n",
      "\n",
      "---------------------------------\n",
      "C parameter: 10\n",
      "---------------------------------\n",
      "\n",
      "Iteration 1 :recall score =  0.8903225806451613\n",
      "Iteration 2 :recall score =  0.8947368421052632\n",
      "Iteration 3 :recall score =  0.9699457784663051\n",
      "Iteration 4 :recall score =  0.9603323770897221\n",
      "Iteration 5 :recall score =  0.9608709510776975\n",
      "\n",
      "mean recall score 0.9352417058768298\n",
      "\n",
      "---------------------------------\n",
      "C parameter: 100\n",
      "---------------------------------\n",
      "\n",
      "Iteration 1 :recall score =  0.8903225806451613\n",
      "Iteration 2 :recall score =  0.8947368421052632\n",
      "Iteration 3 :recall score =  0.9705211906606175\n",
      "Iteration 4 :recall score =  0.9602884118662138\n",
      "Iteration 5 :recall score =  0.9597718204899924\n",
      "\n",
      "mean recall score 0.9351281691534498\n",
      "\n",
      "*********************************************************************************\n",
      "Best model to choose from cross validation is with C parameter =  10.0\n",
      "*********************************************************************************\n",
      "Index(['Mean recall score'], dtype='object')\n"
     ]
    }
   ],
   "source": [
    "#把array格式转换为DataFrame格式\n",
    "os_features = pd.DataFrame(os_features)\n",
    "os_labels = pd.DataFrame(os_labels)\n",
    "#用过采样看模型表现 （数据越多，模型越好, 相当于N大）还有另一种方式就是少用过高的特征转换\n",
    "best_c = printing_Kfold_scores(os_features, os_labels)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.4"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
